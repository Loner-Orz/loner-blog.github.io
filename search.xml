<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>springboot3-åŸºç¡€ç‰¹æ€§</title>
      <link href="/2023/07/01/springboot3-%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7/"/>
      <url>/2023/07/01/springboot3-%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1-SpringApplication"><a href="#1-SpringApplication" class="headerlink" title="1. SpringApplication"></a>1. SpringApplication</h1><h2 id="1-1-è‡ªå®šä¹‰-banner"><a href="#1-1-è‡ªå®šä¹‰-banner" class="headerlink" title="1.1. è‡ªå®šä¹‰ banner"></a>1.1. è‡ªå®šä¹‰ banner</h2><ol><li>ç±»è·¯å¾„æ·»åŠ banner.txtæˆ–è®¾ç½®spring.banner.locationå°±å¯ä»¥å®šåˆ¶ banner</li><li>æ¨èç½‘ç«™ï¼š<a href="https://www.bootschool.net/ascii">Spring Boot banner åœ¨çº¿ç”Ÿæˆå·¥å…·ï¼Œåˆ¶ä½œä¸‹è½½è‹±æ–‡ banner.txtï¼Œä¿®æ”¹æ›¿æ¢ banner.txt æ–‡å­—å®ç°è‡ªå®šä¹‰ï¼Œä¸ªæ€§åŒ–å¯åŠ¨ banner-bootschool.net</a></li></ol><h2 id="1-2-è‡ªå®šä¹‰-SpringApplication"><a href="#1-2-è‡ªå®šä¹‰-SpringApplication" class="headerlink" title="1.2. è‡ªå®šä¹‰ SpringApplication"></a>1.2. è‡ªå®šä¹‰ SpringApplication</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.Banner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SpringApplication</span> <span class="variable">application</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SpringApplication</span>(MyApplication.class);</span><br><span class="line">        application.setBannerMode(Banner.Mode.OFF);</span><br><span class="line">        application.run(args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-3-FluentBuilder-API"><a href="#1-3-FluentBuilder-API" class="headerlink" title="1.3. FluentBuilder API"></a>1.3. FluentBuilder API</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">SpringApplicationBuilder</span>()</span><br><span class="line">    .sources(Parent.class)</span><br><span class="line">    .child(Application.class)</span><br><span class="line">    .bannerMode(Banner.Mode.OFF)</span><br><span class="line">    .run(args);</span><br></pre></td></tr></table></figure><h1 id="2-Profiles"><a href="#2-Profiles" class="headerlink" title="2. Profiles"></a>2. Profiles</h1><p>ç¯å¢ƒéš”ç¦»èƒ½åŠ›ï¼›å¿«é€Ÿåˆ‡æ¢å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒ</p><p>æ­¥éª¤ï¼š</p><ol><li><strong>æ ‡è¯†ç¯å¢ƒ</strong>ï¼šæŒ‡å®šå“ªäº›ç»„ä»¶ã€é…ç½®åœ¨å“ªä¸ªç¯å¢ƒç”Ÿæ•ˆ</li><li><strong>åˆ‡æ¢ç¯å¢ƒ</strong>ï¼šè¿™ä¸ªç¯å¢ƒå¯¹åº”çš„æ‰€æœ‰ç»„ä»¶å’Œé…ç½®å°±åº”è¯¥ç”Ÿæ•ˆ</li></ol><h2 id="2-1-ä½¿ç”¨"><a href="#2-1-ä½¿ç”¨" class="headerlink" title="2.1. ä½¿ç”¨"></a>2.1. ä½¿ç”¨</h2><h3 id="2-1-1-æŒ‡å®šç¯å¢ƒ"><a href="#2-1-1-æŒ‡å®šç¯å¢ƒ" class="headerlink" title="2.1.1 æŒ‡å®šç¯å¢ƒ"></a>2.1.1 æŒ‡å®šç¯å¢ƒ</h3><ul><li>Spring Profiles æä¾›ä¸€ç§<strong>éš”ç¦»é…ç½®</strong>çš„æ–¹å¼ï¼Œä½¿å…¶ä»…åœ¨<strong>ç‰¹å®šç¯å¢ƒ</strong>ç”Ÿæ•ˆï¼›</li><li>ä»»ä½•@Component, @Configuration æˆ– @ConfigurationProperties å¯ä»¥ä½¿ç”¨ @Profile æ ‡è®°ï¼Œæ¥æŒ‡å®šä½•æ—¶è¢«åŠ è½½ã€‚ã€<strong>å®¹å™¨ä¸­çš„ç»„ä»¶</strong>éƒ½å¯ä»¥è¢« <code>@Profile</code>æ ‡è®°ã€‘</li></ul><h3 id="2-1-2-ç¯å¢ƒæ¿€æ´»"><a href="#2-1-2-ç¯å¢ƒæ¿€æ´»" class="headerlink" title="2.1.2 ç¯å¢ƒæ¿€æ´»"></a>2.1.2 ç¯å¢ƒæ¿€æ´»</h3><ol><li>é…ç½®æ¿€æ´»æŒ‡å®šç¯å¢ƒï¼› é…ç½®æ–‡ä»¶</li></ol><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.profiles.active</span>=<span class="string">production,hsqldb</span></span><br></pre></td></tr></table></figure><ol><li>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¿€æ´»ã€‚â€”spring.profiles.active=dev,hsqldb</li><li><p>è¿˜å¯ä»¥é…ç½®<strong>é»˜è®¤ç¯å¢ƒ</strong>ï¼› ä¸æ ‡æ³¨@Profile çš„ç»„ä»¶æ°¸è¿œéƒ½å­˜åœ¨ã€‚</p></li><li><ol><li>ä»¥å‰é»˜è®¤ç¯å¢ƒå«default</li><li><code>spring.profiles.default=test</code></li></ol></li><li><p>æ¨èä½¿ç”¨æ¿€æ´»æ–¹å¼æ¿€æ´»æŒ‡å®šç¯å¢ƒ</p></li></ol><h3 id="2-1-3-ç¯å¢ƒåŒ…å«"><a href="#2-1-3-ç¯å¢ƒåŒ…å«" class="headerlink" title="2.1.3 ç¯å¢ƒåŒ…å«"></a>2.1.3 ç¯å¢ƒåŒ…å«</h3><p>æ³¨æ„ï¼š</p><ol><li>spring.profiles.active å’Œspring.profiles.default åªèƒ½ç”¨åˆ° <strong>æ—  profile çš„æ–‡ä»¶</strong>ä¸­ï¼Œå¦‚æœåœ¨application-dev.yamlä¸­ç¼–å†™å°±æ˜¯<strong>æ— æ•ˆçš„</strong></li><li>ä¹Ÿå¯ä»¥é¢å¤–æ·»åŠ ç”Ÿæ•ˆæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ¿€æ´»æ›¿æ¢ã€‚æ¯”å¦‚ï¼š</li></ol><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.profiles.include[0]</span>=<span class="string">common</span></span><br><span class="line"><span class="attr">spring.profiles.include[1]</span>=<span class="string">local</span></span><br></pre></td></tr></table></figure><p>æœ€ä½³å®æˆ˜ï¼š</p><ul><li><strong>ç”Ÿæ•ˆçš„ç¯å¢ƒ</strong> = <strong>æ¿€æ´»çš„ç¯å¢ƒ/é»˜è®¤ç¯å¢ƒ</strong>  + <strong>åŒ…å«çš„ç¯å¢ƒ</strong></li><li><p>é¡¹ç›®é‡Œé¢è¿™ä¹ˆç”¨</p></li><li><ul><li>åŸºç¡€çš„é…ç½®<code>mybatis</code>ã€<code>log</code>ã€<code>xxx</code>ï¼šå†™åˆ°<strong>åŒ…å«ç¯å¢ƒä¸­</strong></li><li>éœ€è¦åŠ¨æ€åˆ‡æ¢å˜åŒ–çš„ <code>db</code>ã€<code>redis</code>ï¼šå†™åˆ°<strong>æ¿€æ´»çš„ç¯å¢ƒä¸­</strong></li></ul></li></ul><h2 id="2-2-Profile-åˆ†ç»„"><a href="#2-2-Profile-åˆ†ç»„" class="headerlink" title="2.2. Profile åˆ†ç»„"></a>2.2. Profile åˆ†ç»„</h2><p>åˆ›å»ºprodç»„ï¼ŒæŒ‡å®šåŒ…å«dbå’Œmqé…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.profiles.group.prod[0]=db</span><br><span class="line">spring.profiles.group.prod[1]=mq</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨â€”spring.profiles.active=prod ï¼Œå°±ä¼šæ¿€æ´»prodï¼Œdbï¼Œmqé…ç½®æ–‡ä»¶</p><h2 id="2-3-Profile-é…ç½®æ–‡ä»¶"><a href="#2-3-Profile-é…ç½®æ–‡ä»¶" class="headerlink" title="2.3. Profile é…ç½®æ–‡ä»¶"></a>2.3. Profile é…ç½®æ–‡ä»¶</h2><ul><li><code>application-&#123;profile&#125;.properties</code>å¯ä»¥ä½œä¸º<strong>æŒ‡å®šç¯å¢ƒçš„é…ç½®æ–‡ä»¶</strong>ã€‚</li><li><p>æ¿€æ´»è¿™ä¸ªç¯å¢ƒï¼Œ<strong>é…ç½®</strong>å°±ä¼šç”Ÿæ•ˆã€‚æœ€ç»ˆç”Ÿæ•ˆçš„æ‰€æœ‰<strong>é…ç½®</strong>æ˜¯</p></li><li><ul><li><code>application.properties</code>ï¼šä¸»é…ç½®æ–‡ä»¶ï¼Œä»»æ„æ—¶å€™éƒ½ç”Ÿæ•ˆ</li><li><code>application-&#123;profile&#125;.properties</code>ï¼šæŒ‡å®šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œæ¿€æ´»æŒ‡å®šç¯å¢ƒç”Ÿæ•ˆ</li></ul></li></ul><p>profileä¼˜å…ˆçº§ &gt; application </p><h1 id="3-å¤–éƒ¨åŒ–é…ç½®"><a href="#3-å¤–éƒ¨åŒ–é…ç½®" class="headerlink" title="3. å¤–éƒ¨åŒ–é…ç½®"></a>3. å¤–éƒ¨åŒ–é…ç½®</h1><p><strong>åœºæ™¯</strong>ï¼šçº¿ä¸Šåº”ç”¨å¦‚ä½•<strong>å¿«é€Ÿä¿®æ”¹é…ç½®</strong>ï¼Œå¹¶åº”<strong>ç”¨æœ€æ–°é…ç½®</strong>ï¼Ÿ</p><ul><li>SpringBoot ä½¿ç”¨  <strong>é…ç½®ä¼˜å…ˆçº§</strong> + <strong>å¤–éƒ¨é…ç½®</strong>  ç®€åŒ–é…ç½®æ›´æ–°ã€ç®€åŒ–è¿ç»´ã€‚</li><li>åªéœ€è¦ç»™<code>jar</code>åº”ç”¨æ‰€åœ¨çš„æ–‡ä»¶å¤¹æ”¾ä¸€ä¸ª<code>application.properties</code>æœ€æ–°é…ç½®æ–‡ä»¶ï¼Œé‡å¯é¡¹ç›®å°±èƒ½è‡ªåŠ¨åº”ç”¨æœ€æ–°é…ç½®</li></ul><h2 id="3-1-é…ç½®ä¼˜å…ˆçº§"><a href="#3-1-é…ç½®ä¼˜å…ˆçº§" class="headerlink" title="3.1. é…ç½®ä¼˜å…ˆçº§"></a>3.1. é…ç½®ä¼˜å…ˆçº§</h2><p>Spring Boot å…è®¸å°†<strong>é…ç½®å¤–éƒ¨åŒ–</strong>ï¼Œä»¥ä¾¿å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ç›¸åŒçš„åº”ç”¨ç¨‹åºä»£ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç§<strong>å¤–éƒ¨é…ç½®æº</strong>ï¼ŒåŒ…æ‹¬Java Propertiesæ–‡ä»¶ã€YAMLæ–‡ä»¶ã€ç¯å¢ƒå˜é‡å’Œå‘½ä»¤è¡Œå‚æ•°ã€‚</p><p>@Valueå¯ä»¥è·å–å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨@ConfigurationPropertieså°†æ‰€æœ‰å±æ€§ç»‘å®šåˆ°java objectä¸­</p><p><strong>ä»¥ä¸‹æ˜¯ SpringBoot å±æ€§æºåŠ è½½é¡ºåºã€‚**</strong>åé¢çš„ä¼šè¦†ç›–å‰é¢çš„å€¼**ã€‚ç”±ä½åˆ°é«˜ï¼Œé«˜ä¼˜å…ˆçº§é…ç½®è¦†ç›–ä½ä¼˜å…ˆçº§</p><ol><li><strong>é»˜è®¤å±æ€§</strong>ï¼ˆé€šè¿‡<code>SpringApplication.setDefaultProperties</code>æŒ‡å®šçš„ï¼‰</li><li>@PropertySourceæŒ‡å®šåŠ è½½çš„é…ç½®ï¼ˆéœ€è¦å†™åœ¨@Configurationç±»ä¸Šæ‰å¯ç”Ÿæ•ˆï¼‰</li><li><strong>é…ç½®æ–‡ä»¶ï¼ˆ**</strong>application.properties/yml<strong>**ç­‰ï¼‰</strong></li><li>RandomValuePropertySourceæ”¯æŒçš„random.*é…ç½®ï¼ˆå¦‚ï¼š@Value(â€œ${random.int}â€)ï¼‰</li><li>OS ç¯å¢ƒå˜é‡</li><li>Java ç³»ç»Ÿå±æ€§ï¼ˆSystem.getProperties()ï¼‰</li><li>JNDI å±æ€§ï¼ˆæ¥è‡ªjava:comp/envï¼‰</li><li>ServletContext åˆå§‹åŒ–å‚æ•°</li><li>ServletConfig åˆå§‹åŒ–å‚æ•°</li><li>SPRING_APPLICATION_JSONå±æ€§ï¼ˆå†…ç½®åœ¨ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§ä¸­çš„ JSONï¼‰</li><li><strong>å‘½ä»¤è¡Œå‚æ•°</strong></li><li>æµ‹è¯•å±æ€§ã€‚(@SpringBootTestè¿›è¡Œæµ‹è¯•æ—¶æŒ‡å®šçš„å±æ€§)</li><li>æµ‹è¯•ç±»@TestPropertySourceæ³¨è§£</li><li>Devtools è®¾ç½®çš„å…¨å±€å±æ€§ã€‚($HOME/.config/spring-boot)</li></ol><p>ç»“è®ºï¼šé…ç½®å¯ä»¥å†™åˆ°å¾ˆå¤šä½ç½®ï¼Œå¸¸è§çš„ä¼˜å…ˆçº§é¡ºåºï¼š</p><ul><li><code>å‘½ä»¤è¡Œ</code>&gt; <code>é…ç½®æ–‡ä»¶</code>&gt; <code>springapplicationé…ç½®</code></li></ul><p><strong>é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§</strong>å¦‚ä¸‹ï¼š(<strong>åé¢è¦†ç›–å‰é¢</strong>)</p><ol><li><strong>jar åŒ…å†…</strong>çš„application.properties/yml</li><li><strong>jar åŒ…å†…</strong>çš„application-{profile}.properties/yml</li><li><strong>jar åŒ…å¤–</strong>çš„application.properties/yml</li><li><strong>jar åŒ…å¤–</strong>çš„application-{profile}.properties/yml</li></ol><p><strong>å»ºè®®</strong>ï¼š<strong>ç”¨ä¸€ç§æ ¼å¼çš„é…ç½®æ–‡ä»¶</strong>ã€‚<code>**å¦‚æœ****.properties****å’Œ****.yml****åŒæ—¶å­˜åœ¨,åˆ™****.properties****ä¼˜å…ˆ**</code></p><p>ç»“è®ºï¼š<code>åŒ…å¤– &gt; åŒ…å†…</code>ï¼› åŒçº§æƒ…å†µï¼š<code>profileé…ç½® &gt; applicationé…ç½®</code></p><p><strong>æ‰€æœ‰å‚æ•°å‡å¯ç”±å‘½ä»¤è¡Œä¼ å…¥ï¼Œä½¿ç”¨</strong><code>**--å‚æ•°é¡¹=å‚æ•°å€¼**</code><strong>ï¼Œå°†ä¼šè¢«æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå¹¶ä¼˜å…ˆäº</strong><code>**é…ç½®æ–‡ä»¶**</code><strong>ã€‚</strong></p><p><strong>æ¯”å¦‚</strong><code>**java -jar app.jar --name=&quot;Spring&quot;**</code><strong>,å¯ä»¥ä½¿ç”¨</strong><code>**@Value(&quot;$&#123;name&#125;&quot;)**</code><strong>è·å–</strong></p><p>æ¼”ç¤ºåœºæ™¯ï¼š</p><ul><li>åŒ…å†…ï¼š application.properties   <code>server.port=8000</code></li><li>åŒ…å†…ï¼š application-dev.properties    <code>server.port=9000</code></li><li>åŒ…å¤–ï¼š  application.properties   <code>server.port=8001</code></li><li>åŒ…å¤–ï¼š application-dev.properties    <code>server.port=9001</code></li></ul><p>å¯åŠ¨ç«¯å£ï¼Ÿï¼šå‘½ä»¤è¡Œ &gt; <code>9001</code> &gt; <code>8001</code> &gt; <code>9000</code> &gt; <code>8000</code></p><h2 id="3-2-å¤–éƒ¨é…ç½®"><a href="#3-2-å¤–éƒ¨é…ç½®" class="headerlink" title="3.2. å¤–éƒ¨é…ç½®"></a>3.2. å¤–éƒ¨é…ç½®</h2><p>SpringBoot åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å¯»æ‰¾application.propertieså’Œapplication.yamlä½ç½®ï¼Œè¿›è¡ŒåŠ è½½ã€‚é¡ºåºå¦‚ä¸‹ï¼šï¼ˆ<strong>åé¢è¦†ç›–å‰é¢</strong>ï¼‰</p><ol><li><p>ç±»è·¯å¾„: å†…éƒ¨</p></li><li><ol><li>ç±»æ ¹è·¯å¾„</li><li>ç±»ä¸‹/configåŒ…</li></ol></li><li><p>å½“å‰è·¯å¾„ï¼ˆé¡¹ç›®æ‰€åœ¨çš„ä½ç½®ï¼‰</p></li><li><ol><li>å½“å‰è·¯å¾„</li><li>å½“å‰ä¸‹/configå­ç›®å½•</li><li>/configç›®å½•çš„ç›´æ¥å­ç›®å½•</li></ol></li></ol><p>æœ€ç»ˆæ•ˆæœï¼šä¼˜å…ˆçº§ç”±é«˜åˆ°ä½ï¼Œå‰é¢è¦†ç›–åé¢</p><ul><li>å‘½ä»¤è¡Œ &gt; åŒ…å¤–configç›´æ¥å­ç›®å½• &gt; åŒ…å¤–configç›®å½• &gt; åŒ…å¤–æ ¹ç›®å½• &gt; åŒ…å†…ç›®å½•</li><li><p>åŒçº§æ¯”è¾ƒï¼š </p></li><li><ul><li>profileé…ç½® &gt; é»˜è®¤é…ç½®</li><li>propertiesé…ç½® &gt; yamlé…ç½®</li></ul></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2023/svg/1613913/1682073869709-2cba18c8-55bd-4bf1-a9df-ac784e30d89a.svg" alt="img"></p><p>è§„å¾‹ï¼šæœ€å¤–å±‚çš„æœ€ä¼˜å…ˆã€‚</p><ul><li>å‘½ä»¤è¡Œ &gt; æ‰€æœ‰</li><li>åŒ…å¤– &gt; åŒ…å†…</li><li>configç›®å½• &gt; æ ¹ç›®å½•</li><li>profile &gt; application </li></ul><p>é…ç½®ä¸åŒå°±éƒ½ç”Ÿæ•ˆï¼ˆäº’è¡¥ï¼‰ï¼Œé…ç½®ç›¸åŒé«˜ä¼˜å…ˆçº§è¦†ç›–ä½ä¼˜å…ˆçº§</p><h2 id="3-3-å¯¼å…¥é…ç½®"><a href="#3-3-å¯¼å…¥é…ç½®" class="headerlink" title="3.3. å¯¼å…¥é…ç½®"></a>3.3. å¯¼å…¥é…ç½®</h2><p>ä½¿ç”¨spring.config.importå¯ä»¥å¯¼å…¥é¢å¤–é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.config.import=my.properties</span><br><span class="line">my.property=value</span><br></pre></td></tr></table></figure><p>æ— è®ºä»¥ä¸Šå†™æ³•çš„å…ˆåé¡ºåºï¼Œmy.propertiesçš„å€¼æ€»æ˜¯ä¼˜å…ˆäºç›´æ¥åœ¨æ–‡ä»¶ä¸­ç¼–å†™çš„my.propertyã€‚</p><h2 id="3-4-å±æ€§å ä½ç¬¦"><a href="#3-4-å±æ€§å ä½ç¬¦" class="headerlink" title="3.4. å±æ€§å ä½ç¬¦"></a>3.4. å±æ€§å ä½ç¬¦</h2><p>é…ç½®æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ ${name:default}å½¢å¼å–å‡ºä¹‹å‰é…ç½®è¿‡çš„å€¼ã€‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app.name</span>=<span class="string">MyApp</span></span><br><span class="line"><span class="attr">app.description</span>=<span class="string">$&#123;app.name&#125; is a Spring Boot application written by $&#123;username:Unknown&#125;</span></span><br></pre></td></tr></table></figure><h1 id="4-å•å…ƒæµ‹è¯•-JUnit5"><a href="#4-å•å…ƒæµ‹è¯•-JUnit5" class="headerlink" title="4. å•å…ƒæµ‹è¯•-JUnit5"></a>4. å•å…ƒæµ‹è¯•-JUnit5</h1><h2 id="4-1-æ•´åˆ"><a href="#4-1-æ•´åˆ" class="headerlink" title="4.1. æ•´åˆ"></a>4.1. æ•´åˆ</h2><p>SpringBoot æä¾›ä¸€ç³»åˆ—æµ‹è¯•å·¥å…·é›†åŠæ³¨è§£æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œæµ‹è¯•ã€‚</p><p>spring-boot-testæä¾›æ ¸å¿ƒæµ‹è¯•èƒ½åŠ›ï¼Œspring-boot-test-autoconfigure æä¾›æµ‹è¯•çš„ä¸€äº›è‡ªåŠ¨é…ç½®ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦å¯¼å…¥spring-boot-starter-test å³å¯æ•´åˆæµ‹è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>spring-boot-starter-test é»˜è®¤æä¾›äº†ä»¥ä¸‹åº“ä¾›æˆ‘ä»¬æµ‹è¯•ä½¿ç”¨</p><ul><li><a href="https://junit.org/junit5/">JUnit 5</a></li><li><a href="https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/testing.html#integration-testing">Spring Test</a></li><li><a href="https://assertj.github.io/doc/">AssertJ</a></li><li><a href="https://github.com/hamcrest/JavaHamcrest">Hamcrest</a></li><li><a href="https://site.mockito.org/">Mockito</a></li><li><a href="https://github.com/skyscreamer/JSONassert">JSONassert</a></li><li><a href="https://github.com/jayway/JsonPath">JsonPath</a></li></ul><h2 id="4-2-æµ‹è¯•"><a href="#4-2-æµ‹è¯•" class="headerlink" title="4.2. æµ‹è¯•"></a>4.2. æµ‹è¯•</h2><h3 id="4-2-0-ç»„ä»¶æµ‹è¯•"><a href="#4-2-0-ç»„ä»¶æµ‹è¯•" class="headerlink" title="4.2.0 ç»„ä»¶æµ‹è¯•"></a>4.2.0 ç»„ä»¶æµ‹è¯•</h3><p>ç›´æ¥<code>@Autowired</code>å®¹å™¨ä¸­çš„ç»„ä»¶è¿›è¡Œæµ‹è¯•</p><h3 id="4-2-1-æ³¨è§£"><a href="#4-2-1-æ³¨è§£" class="headerlink" title="4.2.1 æ³¨è§£"></a>4.2.1 æ³¨è§£</h3><p>JUnit5çš„æ³¨è§£ä¸JUnit4çš„æ³¨è§£æœ‰æ‰€å˜åŒ–</p><p><a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations">https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations</a></p><ul><li><strong>@Test :</strong>è¡¨ç¤ºæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ã€‚ä½†æ˜¯ä¸JUnit4çš„@Testä¸åŒï¼Œä»–çš„èŒè´£éå¸¸å•ä¸€ä¸èƒ½å£°æ˜ä»»ä½•å±æ€§ï¼Œæ‹“å±•çš„æµ‹è¯•å°†ä¼šç”±Jupiteræä¾›é¢å¤–æµ‹è¯•</li><li><strong>@ParameterizedTest :</strong>è¡¨ç¤ºæ–¹æ³•æ˜¯å‚æ•°åŒ–æµ‹è¯•ï¼Œä¸‹æ–¹ä¼šæœ‰è¯¦ç»†ä»‹ç»</li><li><strong>@RepeatedTest :</strong>è¡¨ç¤ºæ–¹æ³•å¯é‡å¤æ‰§è¡Œï¼Œä¸‹æ–¹ä¼šæœ‰è¯¦ç»†ä»‹ç»</li><li><strong>@DisplayName :</strong>ä¸ºæµ‹è¯•ç±»æˆ–è€…æµ‹è¯•æ–¹æ³•è®¾ç½®å±•ç¤ºåç§°</li><li><strong>@BeforeEach :</strong>è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ</li><li><strong>@AfterEach :</strong>è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ</li><li><strong>@BeforeAll :</strong>è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ</li><li><strong>@AfterAll :</strong>è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ</li><li><strong>@Tag :</strong>è¡¨ç¤ºå•å…ƒæµ‹è¯•ç±»åˆ«ï¼Œç±»ä¼¼äºJUnit4ä¸­çš„@Categories</li><li><strong>@Disabled :</strong>è¡¨ç¤ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•ä¸æ‰§è¡Œï¼Œç±»ä¼¼äºJUnit4ä¸­çš„@Ignore</li><li><strong>@Timeout :</strong>è¡¨ç¤ºæµ‹è¯•æ–¹æ³•è¿è¡Œå¦‚æœè¶…è¿‡äº†æŒ‡å®šæ—¶é—´å°†ä¼šè¿”å›é”™è¯¯</li><li><strong>@ExtendWith :</strong>ä¸ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•æä¾›æ‰©å±•ç±»å¼•ç”¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.fail;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assumptions.assumeTrue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterAll;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeAll;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Disabled;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StandardTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeAll</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">initAll</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DisplayName(&quot;ğŸ˜±&quot;)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">succeedingTest</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">failingTest</span><span class="params">()</span> &#123;</span><br><span class="line">        fail(<span class="string">&quot;a failing test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@Disabled(&quot;for demonstration purposes&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">skippedTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// not executed</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">abortedTest</span><span class="params">()</span> &#123;</span><br><span class="line">        assumeTrue(<span class="string">&quot;abc&quot;</span>.contains(<span class="string">&quot;Z&quot;</span>));</span><br><span class="line">        fail(<span class="string">&quot;test should have been aborted&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tearDownAll</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-2-æ–­è¨€"><a href="#4-2-2-æ–­è¨€" class="headerlink" title="4.2.2 æ–­è¨€"></a>4.2.2 æ–­è¨€</h3><div class="table-container"><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>assertEquals</td><td>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æˆ–ä¸¤ä¸ªåŸå§‹ç±»å‹æ˜¯å¦ç›¸ç­‰</td></tr><tr><td>assertNotEquals</td><td>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æˆ–ä¸¤ä¸ªåŸå§‹ç±»å‹æ˜¯å¦ä¸ç›¸ç­‰</td></tr><tr><td>assertSame</td><td>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</td></tr><tr><td>assertNotSame</td><td>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æ˜¯å¦æŒ‡å‘ä¸åŒçš„å¯¹è±¡</td></tr><tr><td>assertTrue</td><td>åˆ¤æ–­ç»™å®šçš„å¸ƒå°”å€¼æ˜¯å¦ä¸º true</td></tr><tr><td>assertFalse</td><td>åˆ¤æ–­ç»™å®šçš„å¸ƒå°”å€¼æ˜¯å¦ä¸º false</td></tr><tr><td>assertNull</td><td>åˆ¤æ–­ç»™å®šçš„å¯¹è±¡å¼•ç”¨æ˜¯å¦ä¸º null</td></tr><tr><td>assertNotNull</td><td>åˆ¤æ–­ç»™å®šçš„å¯¹è±¡å¼•ç”¨æ˜¯å¦ä¸ä¸º null</td></tr><tr><td>assertArrayEquals</td><td>æ•°ç»„æ–­è¨€</td></tr><tr><td>assertAll</td><td>ç»„åˆæ–­è¨€</td></tr><tr><td>assertThrows</td><td>å¼‚å¸¸æ–­è¨€</td></tr><tr><td>assertTimeout</td><td>è¶…æ—¶æ–­è¨€</td></tr><tr><td>fail</td><td>å¿«é€Ÿå¤±è´¥</td></tr></tbody></table></div><h3 id="4-2-3-åµŒå¥—æµ‹è¯•"><a href="#4-2-3-åµŒå¥—æµ‹è¯•" class="headerlink" title="4.2.3 åµŒå¥—æµ‹è¯•"></a>4.2.3 åµŒå¥—æµ‹è¯•</h3><p>JUnit 5 å¯ä»¥é€šè¿‡ Java ä¸­çš„å†…éƒ¨ç±»å’Œ@Nested æ³¨è§£å®ç°åµŒå¥—æµ‹è¯•ï¼Œä»è€Œå¯ä»¥æ›´å¥½çš„æŠŠç›¸å…³çš„æµ‹è¯•æ–¹æ³•ç»„ç»‡åœ¨ä¸€èµ·ã€‚åœ¨å†…éƒ¨ç±»ä¸­å¯ä»¥ä½¿ç”¨@BeforeEach å’Œ@AfterEach æ³¨è§£ï¼Œè€Œä¸”åµŒå¥—çš„å±‚æ¬¡æ²¡æœ‰é™åˆ¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DisplayName(&quot;A stack&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestingAStackDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Object&gt; stack;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@DisplayName(&quot;is instantiated with new Stack()&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">isInstantiatedWithNew</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nested</span></span><br><span class="line">    <span class="meta">@DisplayName(&quot;when new&quot;)</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">WhenNew</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@BeforeEach</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">createNewStack</span><span class="params">()</span> &#123;</span><br><span class="line">            stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@DisplayName(&quot;is empty&quot;)</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">            assertTrue(stack.isEmpty());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@DisplayName(&quot;throws EmptyStackException when popped&quot;)</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">throwsExceptionWhenPopped</span><span class="params">()</span> &#123;</span><br><span class="line">            assertThrows(EmptyStackException.class, stack::pop);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@DisplayName(&quot;throws EmptyStackException when peeked&quot;)</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">throwsExceptionWhenPeeked</span><span class="params">()</span> &#123;</span><br><span class="line">            assertThrows(EmptyStackException.class, stack::peek);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Nested</span></span><br><span class="line">        <span class="meta">@DisplayName(&quot;after pushing an element&quot;)</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">AfterPushing</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">anElement</span> <span class="operator">=</span> <span class="string">&quot;an element&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@BeforeEach</span></span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">pushAnElement</span><span class="params">()</span> &#123;</span><br><span class="line">                stack.push(anElement);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Test</span></span><br><span class="line">            <span class="meta">@DisplayName(&quot;it is no longer empty&quot;)</span></span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">isNotEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">                assertFalse(stack.isEmpty());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Test</span></span><br><span class="line">            <span class="meta">@DisplayName(&quot;returns the element when popped and is empty&quot;)</span></span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">returnElementWhenPopped</span><span class="params">()</span> &#123;</span><br><span class="line">                assertEquals(anElement, stack.pop());</span><br><span class="line">                assertTrue(stack.isEmpty());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Test</span></span><br><span class="line">            <span class="meta">@DisplayName(&quot;returns the element when peeked but remains not empty&quot;)</span></span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">returnElementWhenPeeked</span><span class="params">()</span> &#123;</span><br><span class="line">                assertEquals(anElement, stack.peek());</span><br><span class="line">                assertFalse(stack.isEmpty());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-4-å‚æ•°åŒ–æµ‹è¯•"><a href="#4-2-4-å‚æ•°åŒ–æµ‹è¯•" class="headerlink" title="4.2.4 å‚æ•°åŒ–æµ‹è¯•"></a>4.2.4 å‚æ•°åŒ–æµ‹è¯•</h3><p>å‚æ•°åŒ–æµ‹è¯•æ˜¯JUnit5å¾ˆé‡è¦çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå®ƒä½¿å¾—ç”¨ä¸åŒçš„å‚æ•°å¤šæ¬¡è¿è¡Œæµ‹è¯•æˆä¸ºäº†å¯èƒ½ï¼Œä¹Ÿä¸ºæˆ‘ä»¬çš„å•å…ƒæµ‹è¯•å¸¦æ¥è®¸å¤šä¾¿åˆ©ã€‚</p><p>åˆ©ç”¨<strong>@ValueSource</strong>ç­‰æ³¨è§£ï¼ŒæŒ‡å®šå…¥å‚ï¼Œæˆ‘ä»¬å°†å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‚æ•°è¿›è¡Œå¤šæ¬¡å•å…ƒæµ‹è¯•ï¼Œè€Œä¸éœ€è¦æ¯æ–°å¢ä¸€ä¸ªå‚æ•°å°±æ–°å¢ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼Œçœå»äº†å¾ˆå¤šå†—ä½™ä»£ç ã€‚</p><p><strong>@ValueSource</strong>: ä¸ºå‚æ•°åŒ–æµ‹è¯•æŒ‡å®šå…¥å‚æ¥æºï¼Œæ”¯æŒå…«å¤§åŸºç¡€ç±»ä»¥åŠStringç±»å‹,Classç±»å‹</p><p><strong>@NullSource</strong>: è¡¨ç¤ºä¸ºå‚æ•°åŒ–æµ‹è¯•æä¾›ä¸€ä¸ªnullçš„å…¥å‚</p><p><strong>@EnumSource</strong>: è¡¨ç¤ºä¸ºå‚æ•°åŒ–æµ‹è¯•æä¾›ä¸€ä¸ªæšä¸¾å…¥å‚</p><p><strong>@CsvFileSource</strong>ï¼šè¡¨ç¤ºè¯»å–æŒ‡å®šCSVæ–‡ä»¶å†…å®¹ä½œä¸ºå‚æ•°åŒ–æµ‹è¯•å…¥å‚</p><p><strong>@MethodSource</strong>ï¼šè¡¨ç¤ºè¯»å–æŒ‡å®šæ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºå‚æ•°åŒ–æµ‹è¯•å…¥å‚(æ³¨æ„æ–¹æ³•è¿”å›éœ€è¦æ˜¯ä¸€ä¸ªæµ)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ParameterizedTest</span></span><br><span class="line"><span class="meta">@ValueSource(strings = &#123;&quot;one&quot;, &quot;two&quot;, &quot;three&quot;&#125;)</span></span><br><span class="line"><span class="meta">@DisplayName(&quot;å‚æ•°åŒ–æµ‹è¯•1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parameterizedTest1</span><span class="params">(String string)</span> &#123;</span><br><span class="line">    System.out.println(string);</span><br><span class="line">    Assertions.assertTrue(StringUtils.isNotBlank(string));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@ParameterizedTest</span></span><br><span class="line"><span class="meta">@MethodSource(&quot;method&quot;)</span>    <span class="comment">//æŒ‡å®šæ–¹æ³•å</span></span><br><span class="line"><span class="meta">@DisplayName(&quot;æ–¹æ³•æ¥æºå‚æ•°&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWithExplicitLocalMethodSource</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    Assertions.assertNotNull(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> Stream&lt;String&gt; <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Stream.of(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaè¯­è¨€æ¦‚è¿°</title>
      <link href="/2023/06/30/java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0/"/>
      <url>/2023/06/30/java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>ä½ å¥½</code></p>]]></content>
      
      
      <categories>
          
          <category> javaç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot3-å¿«é€Ÿå…¥é—¨</title>
      <link href="/2023/06/30/springboot3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2023/06/30/springboot3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h1><h2 id="1-å‰ç½®çŸ¥è¯†"><a href="#1-å‰ç½®çŸ¥è¯†" class="headerlink" title="1. å‰ç½®çŸ¥è¯†"></a>1. å‰ç½®çŸ¥è¯†</h2><ul><li>Java17</li><li>Springã€SpringMVCã€MyBatis</li><li>Mavenã€IDEA</li></ul><h2 id="2-ç¯å¢ƒè¦æ±‚"><a href="#2-ç¯å¢ƒè¦æ±‚" class="headerlink" title="2. ç¯å¢ƒè¦æ±‚"></a>2. ç¯å¢ƒè¦æ±‚</h2><div class="table-container"><table><thead><tr><th>ç¯å¢ƒ&amp;å·¥å…·</th><th>ç‰ˆæœ¬ï¼ˆor laterï¼‰</th></tr></thead><tbody><tr><td>SpringBoot</td><td>3.0.5+</td></tr><tr><td>IDEA</td><td>2021.2.1+</td></tr><tr><td>Java</td><td>17+</td></tr><tr><td>Maven</td><td>3.5+</td></tr><tr><td>Tomcat</td><td>10.0+</td></tr><tr><td>Servlet</td><td>5.0+</td></tr><tr><td>GraalVM Community</td><td>22.3+</td></tr><tr><td>Native Build Tools</td><td>0.9.19+</td></tr></tbody></table></div><h2 id="3-SpringBootæ˜¯ä»€ä¹ˆ"><a href="#3-SpringBootæ˜¯ä»€ä¹ˆ" class="headerlink" title="3. SpringBootæ˜¯ä»€ä¹ˆ"></a>3. SpringBootæ˜¯ä»€ä¹ˆ</h2><p>SpringBoot å¸®æˆ‘ä»¬ç®€å•ã€å¿«é€Ÿåœ°åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ã€ç”Ÿäº§çº§åˆ«çš„ <strong>Spring åº”ç”¨ï¼ˆè¯´æ˜ï¼šSpringBootåº•å±‚æ˜¯Springï¼‰</strong></p><p>å¤§å¤šæ•° SpringBoot åº”ç”¨åªéœ€è¦ç¼–å†™å°‘é‡é…ç½®å³å¯å¿«é€Ÿæ•´åˆ Spring å¹³å°ä»¥åŠç¬¬ä¸‰æ–¹æŠ€æœ¯</p><p><strong>ç‰¹æ€§ï¼š</strong></p><ul><li><p>å¿«é€Ÿåˆ›å»ºç‹¬ç«‹ Spring åº”ç”¨</p></li><li><ul><li>SSMï¼šå¯¼åŒ…ã€å†™é…ç½®ã€å¯åŠ¨è¿è¡Œ</li></ul></li><li><p>ç›´æ¥åµŒå…¥Tomcatã€Jetty or Undertowï¼ˆæ— éœ€éƒ¨ç½² war åŒ…ï¼‰ã€Servletå®¹å™¨ã€‘</p></li><li><ul><li>linux  java tomcat mysqlï¼š war æ”¾åˆ° tomcat çš„ webappsä¸‹</li><li>jarï¼š javaç¯å¢ƒï¼›  java -jar</li></ul></li><li><p><strong>é‡ç‚¹</strong>ï¼šæä¾›å¯é€‰çš„starterï¼Œç®€åŒ–åº”ç”¨<strong>æ•´åˆ</strong></p></li><li><ul><li><strong>åœºæ™¯å¯åŠ¨å™¨</strong>ï¼ˆstarterï¼‰ï¼šwebã€jsonã€é‚®ä»¶ã€ossï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ã€å¼‚æ­¥ã€å®šæ—¶ä»»åŠ¡ã€ç¼“å­˜â€¦</li><li>å¯¼åŒ…ä¸€å †ï¼Œæ§åˆ¶å¥½ç‰ˆæœ¬ã€‚</li><li>ä¸ºæ¯ä¸€ç§åœºæ™¯å‡†å¤‡äº†ä¸€ä¸ªä¾èµ–ï¼› <strong>web-starterã€‚mybatis-starter</strong></li></ul></li><li><p><strong>é‡ç‚¹ï¼š</strong>æŒ‰éœ€è‡ªåŠ¨é…ç½® Spring ä»¥åŠ ç¬¬ä¸‰æ–¹åº“</p></li><li><ul><li>å¦‚æœè¿™äº›åœºæ™¯æˆ‘è¦ä½¿ç”¨ï¼ˆç”Ÿæ•ˆï¼‰ã€‚è¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰é…ç½®éƒ½ä¼šè‡ªåŠ¨é…ç½®å¥½ã€‚</li><li><strong>çº¦å®šå¤§äºé…ç½®</strong>ï¼šæ¯ä¸ªåœºæ™¯éƒ½æœ‰å¾ˆå¤šé»˜è®¤é…ç½®ã€‚</li><li>è‡ªå®šä¹‰ï¼šé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å‡ é¡¹å°±å¯ä»¥</li></ul></li><li><p>æä¾›ç”Ÿäº§çº§ç‰¹æ€§ï¼šå¦‚ ç›‘æ§æŒ‡æ ‡ã€å¥åº·æ£€æŸ¥ã€å¤–éƒ¨åŒ–é…ç½®ç­‰</p></li><li><ul><li>ç›‘æ§æŒ‡æ ‡ã€å¥åº·æ£€æŸ¥ï¼ˆk8sï¼‰ã€å¤–éƒ¨åŒ–é…ç½®</li></ul></li><li><p>æ— ä»£ç ç”Ÿæˆã€æ— xml</p></li></ul><p>æ€»ç»“ï¼šç®€åŒ–å¼€å‘ï¼Œç®€åŒ–é…ç½®ï¼Œç®€åŒ–æ•´åˆï¼Œç®€åŒ–éƒ¨ç½²ï¼Œç®€åŒ–ç›‘æ§ï¼Œç®€åŒ–è¿ç»´ã€‚</p><h1 id="2ã€å¿«é€Ÿä½“éªŒ"><a href="#2ã€å¿«é€Ÿä½“éªŒ" class="headerlink" title="2ã€å¿«é€Ÿä½“éªŒ"></a>2ã€å¿«é€Ÿä½“éªŒ</h1><p>åœºæ™¯ï¼šæµè§ˆå™¨å‘é€<strong>/hello</strong>è¯·æ±‚ï¼Œè¿”å›â€<strong>Hello,Spring Boot 3!</strong>â€œ</p><h2 id="1-å¼€å‘æµç¨‹"><a href="#1-å¼€å‘æµç¨‹" class="headerlink" title="1. å¼€å‘æµç¨‹"></a>1. å¼€å‘æµç¨‹</h2><h3 id="1-åˆ›å»ºé¡¹ç›®"><a href="#1-åˆ›å»ºé¡¹ç›®" class="headerlink" title="1. åˆ›å»ºé¡¹ç›®"></a>1. åˆ›å»ºé¡¹ç›®</h3><p>maven é¡¹ç›®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æ‰€æœ‰springbooté¡¹ç›®éƒ½å¿…é¡»ç»§æ‰¿è‡ª spring-boot-starter-parent --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-å¯¼å…¥åœºæ™¯"><a href="#2-å¯¼å…¥åœºæ™¯" class="headerlink" title="2. å¯¼å…¥åœºæ™¯"></a>2. å¯¼å…¥åœºæ™¯</h3><p>åœºæ™¯å¯åŠ¨å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        webå¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-ä¸»ç¨‹åº"><a href="#3-ä¸»ç¨‹åº" class="headerlink" title="3. ä¸»ç¨‹åº"></a>3. ä¸»ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">//è¿™æ˜¯ä¸€ä¸ªSpringBootåº”ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MainApplication.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ä¸šåŠ¡"><a href="#4-ä¸šåŠ¡" class="headerlink" title="4. ä¸šåŠ¡"></a>4. ä¸šåŠ¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello,Spring Boot 3!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-æµ‹è¯•"><a href="#5-æµ‹è¯•" class="headerlink" title="5. æµ‹è¯•"></a>5. æµ‹è¯•</h3><p>é»˜è®¤å¯åŠ¨è®¿é—®ï¼š localhost:8080</p><h3 id="6-æ‰“åŒ…"><a href="#6-æ‰“åŒ…" class="headerlink" title="6. æ‰“åŒ…"></a>6. æ‰“åŒ…</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    SpringBootåº”ç”¨æ‰“åŒ…æ’ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>mvn clean package</code>æŠŠé¡¹ç›®æ‰“æˆå¯æ‰§è¡Œçš„jaråŒ…</p><p><code>java -jar demo.jar</code>å¯åŠ¨é¡¹ç›®</p><h2 id="2-ç‰¹æ€§å°ç»“"><a href="#2-ç‰¹æ€§å°ç»“" class="headerlink" title="2. ç‰¹æ€§å°ç»“"></a>2. ç‰¹æ€§å°ç»“</h2><h3 id="1-ç®€åŒ–æ•´åˆ"><a href="#1-ç®€åŒ–æ•´åˆ" class="headerlink" title="1. ç®€åŒ–æ•´åˆ"></a>1. ç®€åŒ–æ•´åˆ</h3><p>å¯¼å…¥ç›¸å…³çš„åœºæ™¯ï¼Œæ‹¥æœ‰ç›¸å…³çš„åŠŸèƒ½ã€‚åœºæ™¯å¯åŠ¨å™¨</p><p>é»˜è®¤æ”¯æŒçš„æ‰€æœ‰åœºæ™¯ï¼š<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters</a></p><ul><li>å®˜æ–¹æä¾›çš„åœºæ™¯ï¼šå‘½åä¸ºï¼š<code>spring-boot-starter-*</code></li><li>ç¬¬ä¸‰æ–¹æä¾›åœºæ™¯ï¼šå‘½åä¸ºï¼š<code>*-spring-boot-starter</code></li></ul><p>åœºæ™¯ä¸€å¯¼å…¥ï¼Œä¸‡ç‰©çš†å°±ç»ª</p><h3 id="2-ç®€åŒ–å¼€å‘"><a href="#2-ç®€åŒ–å¼€å‘" class="headerlink" title="2. ç®€åŒ–å¼€å‘"></a>2. ç®€åŒ–å¼€å‘</h3><p>æ— éœ€ç¼–å†™ä»»ä½•é…ç½®ï¼Œç›´æ¥å¼€å‘ä¸šåŠ¡</p><h3 id="3-ç®€åŒ–é…ç½®"><a href="#3-ç®€åŒ–é…ç½®" class="headerlink" title="3. ç®€åŒ–é…ç½®"></a>3. ç®€åŒ–é…ç½®</h3><p><code>application.properties</code>ï¼š</p><ul><li>é›†ä¸­å¼ç®¡ç†é…ç½®ã€‚åªéœ€è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶å°±è¡Œ ã€‚</li><li>é…ç½®åŸºæœ¬éƒ½æœ‰é»˜è®¤å€¼</li><li>èƒ½å†™çš„æ‰€æœ‰é…ç½®éƒ½åœ¨ï¼š <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties</a></li></ul><h3 id="4-ç®€åŒ–éƒ¨ç½²"><a href="#4-ç®€åŒ–éƒ¨ç½²" class="headerlink" title="4. ç®€åŒ–éƒ¨ç½²"></a>4. ç®€åŒ–éƒ¨ç½²</h3><p>æ‰“åŒ…ä¸ºå¯æ‰§è¡Œçš„jaråŒ…ã€‚</p><p>linuxæœåŠ¡å™¨ä¸Šæœ‰javaç¯å¢ƒã€‚</p><h3 id="5-ç®€åŒ–è¿ç»´"><a href="#5-ç®€åŒ–è¿ç»´" class="headerlink" title="5. ç®€åŒ–è¿ç»´"></a>5. ç®€åŒ–è¿ç»´</h3><p>ä¿®æ”¹é…ç½®ï¼ˆå¤–éƒ¨æ”¾ä¸€ä¸ªapplication.propertiesæ–‡ä»¶ï¼‰ã€ç›‘æ§ã€å¥åº·æ£€æŸ¥ã€‚</p><p>â€¦..</p><h2 id="3-Spring-Initializr-åˆ›å»ºå‘å¯¼"><a href="#3-Spring-Initializr-åˆ›å»ºå‘å¯¼" class="headerlink" title="3. Spring Initializr åˆ›å»ºå‘å¯¼"></a>3. Spring Initializr åˆ›å»ºå‘å¯¼</h2><p>ä¸€é”®åˆ›å»ºå¥½æ•´ä¸ªé¡¹ç›®ç»“æ„</p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1613913/1679922435118-bde3347e-b9fe-4138-8e16-0c231884ea5f.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_39%2Ctext_5bCa56GF6LC3IGF0Z3VpZ3UuY29t%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><h1 id="3ã€åº”ç”¨åˆ†æ"><a href="#3ã€åº”ç”¨åˆ†æ" class="headerlink" title="3ã€åº”ç”¨åˆ†æ"></a>3ã€åº”ç”¨åˆ†æ</h1><h2 id="1-ä¾èµ–ç®¡ç†æœºåˆ¶"><a href="#1-ä¾èµ–ç®¡ç†æœºåˆ¶" class="headerlink" title="1. ä¾èµ–ç®¡ç†æœºåˆ¶"></a>1. ä¾èµ–ç®¡ç†æœºåˆ¶</h2><p>æ€è€ƒï¼š</p><p>1ã€ä¸ºä»€ä¹ˆå¯¼å…¥<code>starter-web</code>æ‰€æœ‰ç›¸å…³ä¾èµ–éƒ½å¯¼å…¥è¿›æ¥ï¼Ÿ</p><ul><li>å¼€å‘ä»€ä¹ˆåœºæ™¯ï¼Œå¯¼å…¥ä»€ä¹ˆ<strong>åœºæ™¯å¯åŠ¨å™¨ã€‚</strong></li><li><strong>mavenä¾èµ–ä¼ é€’åŸåˆ™ã€‚A-B-Cï¼š Aå°±æ‹¥æœ‰Bå’ŒC</strong></li><li>å¯¼å…¥ åœºæ™¯å¯åŠ¨å™¨ã€‚ åœºæ™¯å¯åŠ¨å™¨ è‡ªåŠ¨æŠŠè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰æ ¸å¿ƒä¾èµ–å…¨éƒ¨å¯¼å…¥è¿›æ¥</li></ul><p>2ã€ä¸ºä»€ä¹ˆç‰ˆæœ¬å·éƒ½ä¸ç”¨å†™ï¼Ÿ</p><ul><li>æ¯ä¸ªbooté¡¹ç›®éƒ½æœ‰ä¸€ä¸ªçˆ¶é¡¹ç›®<code>spring-boot-starter-parent</code></li><li>parentçš„çˆ¶é¡¹ç›®æ˜¯<code>spring-boot-dependencies</code></li><li>çˆ¶é¡¹ç›® <strong>ç‰ˆæœ¬ä»²è£ä¸­å¿ƒ</strong>ï¼ŒæŠŠæ‰€æœ‰å¸¸è§çš„jarçš„ä¾èµ–ç‰ˆæœ¬éƒ½å£°æ˜å¥½äº†ã€‚</li><li>æ¯”å¦‚ï¼š<code>mysql-connector-j</code></li></ul><p>3ã€è‡ªå®šä¹‰ç‰ˆæœ¬å·</p><ul><li><p>åˆ©ç”¨mavençš„å°±è¿‘åŸåˆ™</p></li><li><ul><li>ç›´æ¥åœ¨å½“å‰é¡¹ç›®<code>properties</code>æ ‡ç­¾ä¸­å£°æ˜çˆ¶é¡¹ç›®ç”¨çš„ç‰ˆæœ¬å±æ€§çš„key</li><li>ç›´æ¥åœ¨<strong>å¯¼å…¥ä¾èµ–çš„æ—¶å€™å£°æ˜ç‰ˆæœ¬</strong></li></ul></li></ul><p>4ã€ç¬¬ä¸‰æ–¹çš„jaråŒ…</p><ul><li>bootçˆ¶é¡¹ç›®æ²¡æœ‰ç®¡ç†çš„éœ€è¦è‡ªè¡Œå£°æ˜å¥½</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1613913/1679294529375-4ee1cd26-8ebc-4abf-bff9-f8775e10c927.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_25%2Ctext_5bCa56GF6LC3IGF0Z3VpZ3UuY29t%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><h2 id="2-è‡ªåŠ¨é…ç½®æœºåˆ¶"><a href="#2-è‡ªåŠ¨é…ç½®æœºåˆ¶" class="headerlink" title="2. è‡ªåŠ¨é…ç½®æœºåˆ¶"></a>2. è‡ªåŠ¨é…ç½®æœºåˆ¶</h2><h3 id="1-åˆæ­¥ç†è§£"><a href="#1-åˆæ­¥ç†è§£" class="headerlink" title="1. åˆæ­¥ç†è§£"></a>1. åˆæ­¥ç†è§£</h3><ul><li><p><strong>è‡ªåŠ¨é…ç½®</strong>çš„ Tomcatã€SpringMVC ç­‰</p></li><li><ul><li><strong>å¯¼å…¥åœºæ™¯</strong>ï¼Œå®¹å™¨ä¸­å°±ä¼šè‡ªåŠ¨é…ç½®å¥½è¿™ä¸ªåœºæ™¯çš„æ ¸å¿ƒç»„ä»¶ã€‚</li><li>ä»¥å‰ï¼šDispatcherServletã€ViewResolverã€CharacterEncodingFilterâ€¦.</li><li>ç°åœ¨ï¼šè‡ªåŠ¨é…ç½®å¥½çš„è¿™äº›ç»„ä»¶</li><li>éªŒè¯ï¼š<strong>å®¹å™¨ä¸­æœ‰äº†ä»€ä¹ˆç»„ä»¶ï¼Œå°±å…·æœ‰ä»€ä¹ˆåŠŸèƒ½</strong></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//java10ï¼š å±€éƒ¨å˜é‡ç±»å‹çš„è‡ªåŠ¨æ¨æ–­</span></span><br><span class="line">    <span class="type">var</span> <span class="variable">ioc</span> <span class="operator">=</span> SpringApplication.run(MainApplication.class, args);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1ã€è·å–å®¹å™¨ä¸­æ‰€æœ‰ç»„ä»¶çš„åå­—</span></span><br><span class="line">    String[] names = ioc.getBeanDefinitionNames();</span><br><span class="line">    <span class="comment">//2ã€æŒ¨ä¸ªéå†ï¼š</span></span><br><span class="line">    <span class="comment">// dispatcherServletã€beanNameViewResolverã€characterEncodingFilterã€multipartResolver</span></span><br><span class="line">    <span class="comment">// SpringBootæŠŠä»¥å‰é…ç½®çš„æ ¸å¿ƒç»„ä»¶ç°åœ¨éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½äº†ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (String name : names) &#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>é»˜è®¤çš„åŒ…æ‰«æè§„åˆ™</strong></p></li><li><ul><li><code>@SpringBootApplication</code> æ ‡æ³¨çš„ç±»å°±æ˜¯ä¸»ç¨‹åºç±»</li><li><strong>SpringBootåªä¼šæ‰«æä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…åŠå…¶ä¸‹é¢çš„å­åŒ…ï¼Œè‡ªåŠ¨çš„component-scanåŠŸèƒ½</strong></li><li><strong>è‡ªå®šä¹‰æ‰«æè·¯å¾„</strong></li></ul></li><li><ul><li><ul><li>@SpringBootApplication(scanBasePackages = â€œcom.atguiguâ€)</li><li><code>@ComponentScan(&quot;com.atguigu&quot;)</code> ç›´æ¥æŒ‡å®šæ‰«æçš„è·¯å¾„</li></ul></li></ul></li><li><p><strong>é…ç½®é»˜è®¤å€¼</strong></p></li><li><ul><li><strong>é…ç½®æ–‡ä»¶</strong>çš„æ‰€æœ‰é…ç½®é¡¹æ˜¯å’ŒæŸä¸ª<strong>ç±»çš„å¯¹è±¡</strong>å€¼è¿›è¡Œä¸€ä¸€ç»‘å®šçš„ã€‚</li><li>ç»‘å®šäº†é…ç½®æ–‡ä»¶ä¸­æ¯ä¸€é¡¹å€¼çš„ç±»ï¼š <strong>å±æ€§ç±»</strong>ã€‚</li><li>æ¯”å¦‚ï¼š</li></ul></li><li><ul><li><ul><li><code>ServerProperties</code>ç»‘å®šäº†æ‰€æœ‰TomcatæœåŠ¡å™¨æœ‰å…³çš„é…ç½®</li><li><code>MultipartProperties</code>ç»‘å®šäº†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ ç›¸å…³çš„é…ç½®</li><li>â€¦.å‚ç…§<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.server">å®˜æ–¹æ–‡æ¡£</a>ï¼šæˆ–è€…å‚ç…§ ç»‘å®šçš„  <strong>å±æ€§ç±»</strong>ã€‚</li></ul></li></ul></li><li><p>æŒ‰éœ€åŠ è½½è‡ªåŠ¨é…ç½®</p></li><li><ul><li>å¯¼å…¥åœºæ™¯<code>spring-boot-starter-web</code></li><li>åœºæ™¯å¯åŠ¨å™¨é™¤äº†ä¼šå¯¼å…¥ç›¸å…³åŠŸèƒ½ä¾èµ–ï¼Œå¯¼å…¥ä¸€ä¸ª<code>spring-boot-starter</code>ï¼Œæ˜¯æ‰€æœ‰<code>starter</code>çš„<code>starter</code>ï¼ŒåŸºç¡€æ ¸å¿ƒstarter</li><li><code>spring-boot-starter</code>å¯¼å…¥äº†ä¸€ä¸ªåŒ… <code>spring-boot-autoconfigure</code>ã€‚åŒ…é‡Œé¢éƒ½æ˜¯å„ç§åœºæ™¯çš„<code>AutoConfiguration</code><strong>è‡ªåŠ¨é…ç½®ç±»</strong></li><li>è™½ç„¶å…¨åœºæ™¯çš„è‡ªåŠ¨é…ç½®éƒ½åœ¨ <code>spring-boot-autoconfigure</code>è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯ä¸æ˜¯å…¨éƒ½å¼€å¯çš„ã€‚</li></ul></li><li><ul><li><ul><li>å¯¼å…¥å“ªä¸ªåœºæ™¯å°±å¼€å¯å“ªä¸ªè‡ªåŠ¨é…ç½®</li></ul></li></ul></li></ul><p>æ€»ç»“ï¼š å¯¼å…¥åœºæ™¯å¯åŠ¨å™¨ã€è§¦å‘ <code>spring-boot-autoconfigure</code>è¿™ä¸ªåŒ…çš„è‡ªåŠ¨é…ç½®ç”Ÿæ•ˆã€å®¹å™¨ä¸­å°±ä¼šå…·æœ‰ç›¸å…³åœºæ™¯çš„åŠŸèƒ½</p><h3 id="2-å®Œæ•´æµç¨‹"><a href="#2-å®Œæ•´æµç¨‹" class="headerlink" title="2. å®Œæ•´æµç¨‹"></a>2. å®Œæ•´æµç¨‹</h3><p>æ€è€ƒï¼š</p><p><strong>1ã€SpringBootæ€ä¹ˆå®ç°å¯¼ä¸€ä¸ª</strong><code>**starter**</code><strong>ã€å†™ä¸€äº›ç®€å•é…ç½®ï¼Œåº”ç”¨å°±èƒ½è·‘èµ·æ¥ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒæ•´åˆ</strong></p><p>2ã€ä¸ºä»€ä¹ˆTomcatçš„ç«¯å£å·å¯ä»¥é…ç½®åœ¨<code>application.properties</code>ä¸­ï¼Œå¹¶ä¸”<code>Tomcat</code>èƒ½å¯åŠ¨æˆåŠŸï¼Ÿ</p><p>3ã€å¯¼å…¥åœºæ™¯åå“ªäº›<strong>è‡ªåŠ¨é…ç½®èƒ½ç”Ÿæ•ˆ</strong>ï¼Ÿ</p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1613913/1679970508234-3c6b8ecc-6372-4eb5-8c67-563054d1a72d.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_37%2Ctext_5bCa56GF6LC3IGF0Z3VpZ3UuY29t%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><p><strong><em>è‡ªåŠ¨é…ç½®æµç¨‹ç»†èŠ‚æ¢³ç†ï¼š</em></strong></p><p><strong>1ã€</strong>å¯¼å…¥<code>starter-web</code>ï¼šå¯¼å…¥äº†webå¼€å‘åœºæ™¯</p><ul><li>1ã€åœºæ™¯å¯åŠ¨å™¨å¯¼å…¥äº†ç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–ï¼š<code>starter-json</code>ã€<code>starter-tomcat</code>ã€<code>springmvc</code></li><li>2ã€æ¯ä¸ªåœºæ™¯å¯åŠ¨å™¨éƒ½å¼•å…¥äº†ä¸€ä¸ª<code>spring-boot-starter</code>ï¼Œæ ¸å¿ƒåœºæ™¯å¯åŠ¨å™¨ã€‚</li><li>3ã€<strong>æ ¸å¿ƒåœºæ™¯å¯åŠ¨å™¨</strong>å¼•å…¥äº†<code>spring-boot-autoconfigure</code>åŒ…ã€‚</li><li>4ã€<code>spring-boot-autoconfigure</code>é‡Œé¢å›Šæ‹¬äº†æ‰€æœ‰åœºæ™¯çš„æ‰€æœ‰é…ç½®ã€‚</li><li>5ã€åªè¦è¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»éƒ½èƒ½ç”Ÿæ•ˆï¼Œé‚£ä¹ˆç›¸å½“äºSpringBootå®˜æ–¹å†™å¥½çš„æ•´åˆåŠŸèƒ½å°±ç”Ÿæ•ˆäº†ã€‚</li><li>6ã€SpringBooté»˜è®¤å´æ‰«æä¸åˆ° <code>spring-boot-autoconfigure</code>ä¸‹å†™å¥½çš„æ‰€æœ‰<strong>é…ç½®ç±»</strong>ã€‚ï¼ˆè¿™äº›<strong>é…ç½®ç±»</strong>ç»™æˆ‘ä»¬åšäº†æ•´åˆæ“ä½œï¼‰ï¼Œ<strong>é»˜è®¤åªæ‰«æä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…</strong>ã€‚</li></ul><p><strong>2ã€**</strong>ä¸»ç¨‹åº**ï¼š<code>@SpringBootApplication</code></p><ul><li>1ã€<code>@SpringBootApplication</code>ç”±ä¸‰ä¸ªæ³¨è§£ç»„æˆ<code>@SpringBootConfiguration</code>ã€<code>@EnableAutoConfiguratio</code>ã€<code>@ComponentScan</code></li><li>2ã€SpringBooté»˜è®¤åªèƒ½æ‰«æè‡ªå·±ä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…åŠå…¶ä¸‹é¢çš„å­åŒ…ï¼Œæ‰«æä¸åˆ° <code>spring-boot-autoconfigure</code>åŒ…ä¸­å®˜æ–¹å†™å¥½çš„<strong>é…ç½®ç±»</strong></li><li><p>3ã€<code>**@EnableAutoConfiguration**</code>ï¼šSpringBoot <strong>å¼€å¯è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒ</strong>ã€‚</p></li><li><ul><li>\1. æ˜¯ç”±<code>@Import(AutoConfigurationImportSelector.class)</code>æä¾›åŠŸèƒ½ï¼šæ‰¹é‡ç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶ã€‚</li><li>\2. SpringBootå¯åŠ¨ä¼šé»˜è®¤åŠ è½½ 142ä¸ªé…ç½®ç±»ã€‚</li><li>\3. è¿™<strong>142ä¸ªé…ç½®ç±»</strong>æ¥è‡ªäº<code>spring-boot-autoconfigure</code>ä¸‹ <code>META-INF/spring/**org.springframework.boot.autoconfigure.AutoConfiguration**.imports</code>æ–‡ä»¶æŒ‡å®šçš„</li><li>é¡¹ç›®å¯åŠ¨çš„æ—¶å€™åˆ©ç”¨ @Import æ‰¹é‡å¯¼å…¥ç»„ä»¶æœºåˆ¶æŠŠ <code>autoconfigure</code> åŒ…ä¸‹çš„142 <code>xxxxAutoConfiguration</code>ç±»å¯¼å…¥è¿›æ¥ï¼ˆ<strong>è‡ªåŠ¨é…ç½®ç±»</strong>ï¼‰</li><li>è™½ç„¶å¯¼å…¥äº†<code>142</code>ä¸ªè‡ªåŠ¨é…ç½®ç±»</li></ul></li><li><p>4ã€æŒ‰éœ€ç”Ÿæ•ˆï¼š</p></li><li><ul><li>å¹¶ä¸æ˜¯è¿™<code>142</code>ä¸ªè‡ªåŠ¨é…ç½®ç±»éƒ½èƒ½ç”Ÿæ•ˆ</li><li>æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼Œéƒ½æœ‰æ¡ä»¶æ³¨è§£<code>@ConditionalOnxxx</code>ï¼Œåªæœ‰æ¡ä»¶æˆç«‹ï¼Œæ‰èƒ½ç”Ÿæ•ˆ </li></ul></li></ul><p><strong>3ã€</strong><code>**xxxxAutoConfiguration**</code><strong>è‡ªåŠ¨é…ç½®ç±»</strong></p><ul><li><strong>1ã€ç»™å®¹å™¨ä¸­ä½¿ç”¨@Bean æ”¾ä¸€å †ç»„ä»¶ã€‚</strong></li><li>2ã€æ¯ä¸ª<strong>è‡ªåŠ¨é…ç½®ç±»</strong>éƒ½å¯èƒ½æœ‰è¿™ä¸ªæ³¨è§£<code>@EnableConfigurationProperties(**ServerProperties**.class)</code>ï¼Œç”¨æ¥æŠŠé…ç½®æ–‡ä»¶ä¸­é…çš„æŒ‡å®šå‰ç¼€çš„å±æ€§å€¼å°è£…åˆ° <code>xxxProperties</code><strong>å±æ€§ç±»</strong>ä¸­</li><li>3ã€ä»¥Tomcatä¸ºä¾‹ï¼šæŠŠæœåŠ¡å™¨çš„æ‰€æœ‰é…ç½®éƒ½æ˜¯ä»¥<code>server</code>å¼€å¤´çš„ã€‚é…ç½®éƒ½å°è£…åˆ°äº†å±æ€§ç±»ä¸­ã€‚</li><li>4ã€ç»™<strong>å®¹å™¨</strong>ä¸­æ”¾çš„æ‰€æœ‰<strong>ç»„ä»¶</strong>çš„ä¸€äº›<strong>æ ¸å¿ƒå‚æ•°</strong>ï¼Œéƒ½æ¥è‡ªäº<code>**xxxProperties**</code><strong>ã€‚</strong><code>**xxxProperties**</code><strong>éƒ½æ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šã€‚</strong></li><li><strong>åªéœ€è¦æ”¹é…ç½®æ–‡ä»¶çš„å€¼ï¼Œæ ¸å¿ƒç»„ä»¶çš„åº•å±‚å‚æ•°éƒ½èƒ½ä¿®æ”¹</strong></li></ul><p><strong>4ã€</strong>å†™ä¸šåŠ¡ï¼Œå…¨ç¨‹æ— éœ€å…³å¿ƒå„ç§æ•´åˆï¼ˆåº•å±‚è¿™äº›æ•´åˆå†™å¥½äº†ï¼Œè€Œä¸”ä¹Ÿç”Ÿæ•ˆäº†ï¼‰</p><p><strong>æ ¸å¿ƒæµç¨‹æ€»ç»“ï¼š</strong></p><p>1ã€å¯¼å…¥<code>starter</code>ï¼Œå°±ä¼šå¯¼å…¥<code>autoconfigure</code>åŒ…ã€‚</p><p>2ã€<code>autoconfigure</code> åŒ…é‡Œé¢ æœ‰ä¸€ä¸ªæ–‡ä»¶ <code>META-INF/spring/**org.springframework.boot.autoconfigure.AutoConfiguration**.imports</code>,é‡Œé¢æŒ‡å®šçš„æ‰€æœ‰å¯åŠ¨è¦åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»</p><p>3ã€@EnableAutoConfiguration ä¼šè‡ªåŠ¨çš„æŠŠä¸Šé¢æ–‡ä»¶é‡Œé¢å†™çš„æ‰€æœ‰<strong>è‡ªåŠ¨é…ç½®ç±»éƒ½å¯¼å…¥è¿›æ¥ã€‚xxxAutoConfiguration æ˜¯æœ‰æ¡ä»¶æ³¨è§£è¿›è¡ŒæŒ‰éœ€åŠ è½½</strong></p><p>4ã€<code>xxxAutoConfiguration</code>ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€å †ç»„ä»¶ï¼Œç»„ä»¶éƒ½æ˜¯ä» <code>xxxProperties</code>ä¸­æå–å±æ€§å€¼</p><p>5ã€<code>xxxProperties</code>åˆæ˜¯å’Œ<strong>é…ç½®æ–‡ä»¶</strong>è¿›è¡Œäº†ç»‘å®š</p><p><strong>æ•ˆæœï¼š</strong>å¯¼å…¥<code>starter</code>ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°±èƒ½ä¿®æ”¹åº•å±‚è¡Œä¸ºã€‚</p><h3 id="3-å¦‚ä½•å­¦å¥½SpringBoot"><a href="#3-å¦‚ä½•å­¦å¥½SpringBoot" class="headerlink" title="3. å¦‚ä½•å­¦å¥½SpringBoot"></a>3. å¦‚ä½•å­¦å¥½SpringBoot</h3><p>æ¡†æ¶çš„æ¡†æ¶ã€åº•å±‚åŸºäºSpringã€‚èƒ½è°ƒæ•´æ¯ä¸€ä¸ªåœºæ™¯çš„åº•å±‚è¡Œä¸ºã€‚100%é¡¹ç›®ä¸€å®šä¼šç”¨åˆ°<strong>åº•å±‚è‡ªå®šä¹‰</strong></p><p>æ‘„å½±ï¼š</p><ul><li>å‚»ç“œï¼šè‡ªåŠ¨é…ç½®å¥½ã€‚</li><li><strong>å•å</strong>ï¼šç„¦è·ã€å…‰åœˆã€å¿«é—¨ã€æ„Ÿå…‰åº¦â€¦.</li><li>å‚»ç“œ+<strong>å•å</strong>ï¼š</li></ul><ol><li><p>ç†è§£<strong>è‡ªåŠ¨é…ç½®åŸç†</strong></p></li><li><ol><li><strong>å¯¼å…¥starter</strong> <strong>â€”&gt; ç”Ÿæ•ˆxxxxAutoConfiguration â€”&gt;</strong> <strong>ç»„ä»¶</strong> <strong>â€”&gt; xxxProperties â€”&gt;</strong> <strong>é…ç½®æ–‡ä»¶</strong></li></ol></li><li><p>ç†è§£<strong>å…¶ä»–æ¡†æ¶åº•å±‚</strong></p></li><li><ol><li>æ‹¦æˆªå™¨</li></ol></li><li><p>å¯ä»¥éšæ—¶<strong>å®šåˆ¶åŒ–ä»»ä½•ç»„ä»¶</strong></p></li><li><ol><li><strong>é…ç½®æ–‡ä»¶</strong></li><li><strong>è‡ªå®šä¹‰ç»„ä»¶</strong></li></ol></li></ol><p>æ™®é€šå¼€å‘ï¼š<code>å¯¼å…¥starter</code>ï¼ŒControllerã€Serviceã€Mapperã€å¶å°”ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p><strong>é«˜çº§å¼€å‘</strong>ï¼šè‡ªå®šä¹‰ç»„ä»¶ã€è‡ªå®šä¹‰é…ç½®ã€è‡ªå®šä¹‰starter</p><p>æ ¸å¿ƒï¼š</p><ul><li>è¿™ä¸ªåœºæ™¯è‡ªåŠ¨é…ç½®å¯¼å…¥äº†å“ªäº›ç»„ä»¶ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½Autowiredè¿›æ¥ä½¿ç”¨</li><li>èƒ½ä¸èƒ½é€šè¿‡ä¿®æ”¹é…ç½®æ”¹å˜ç»„ä»¶çš„ä¸€äº›é»˜è®¤å‚æ•°</li><li>éœ€ä¸éœ€è¦è‡ªå·±å®Œå…¨å®šä¹‰è¿™ä¸ªç»„ä»¶</li><li>åœºæ™¯å®šåˆ¶åŒ–</li></ul><p><strong>æœ€ä½³å®æˆ˜</strong>ï¼š</p><ul><li><p><strong>é€‰åœºæ™¯</strong>ï¼Œå¯¼å…¥åˆ°é¡¹ç›®</p></li><li><ul><li>å®˜æ–¹ï¼šstarter</li><li>ç¬¬ä¸‰æ–¹ï¼šå»ä»“åº“æœ</li></ul></li><li><p><strong>å†™é…ç½®ï¼Œæ”¹é…ç½®æ–‡ä»¶å…³é”®é¡¹</strong></p></li><li><ul><li>æ•°æ®åº“å‚æ•°ï¼ˆè¿æ¥åœ°å€ã€è´¦å·å¯†ç â€¦ï¼‰</li></ul></li><li><p>åˆ†æè¿™ä¸ªåœºæ™¯ç»™æˆ‘ä»¬å¯¼å…¥äº†<strong>å“ªäº›èƒ½ç”¨çš„ç»„ä»¶</strong></p></li><li><ul><li><strong>è‡ªåŠ¨è£…é…</strong>è¿™äº›ç»„ä»¶è¿›è¡Œåç»­ä½¿ç”¨</li><li>ä¸æ»¡æ„bootæä¾›çš„è‡ªåŠ¨é…å¥½çš„é»˜è®¤ç»„ä»¶</li></ul></li><li><ul><li><ul><li><strong>å®šåˆ¶åŒ–</strong></li></ul></li></ul></li><li><ul><li><ul><li><ul><li>æ”¹é…ç½®</li><li>è‡ªå®šä¹‰ç»„ä»¶</li></ul></li></ul></li></ul></li></ul><p>æ•´åˆredisï¼š</p><ul><li><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">é€‰åœºæ™¯</a>ï¼š<code>spring-boot-starter-data-redis</code></p></li><li><ul><li>åœºæ™¯AutoConfiguration å°±æ˜¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®ç±»</li></ul></li><li><p>å†™é…ç½®ï¼š</p></li><li><ul><li>åˆ†æåˆ°è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®ç±»å¼€å¯äº†å“ªäº›å±æ€§ç»‘å®šå…³ç³»</li><li><code>@EnableConfigurationProperties(RedisProperties.class)</code></li><li>ä¿®æ”¹redisç›¸å…³çš„é…ç½®</li></ul></li><li><p>åˆ†æç»„ä»¶ï¼š</p></li><li><ul><li>åˆ†æåˆ° <code>RedisAutoConfiguration</code>  ç»™å®¹å™¨ä¸­æ”¾äº† <code>StringRedisTemplate</code></li><li>ç»™ä¸šåŠ¡ä»£ç ä¸­è‡ªåŠ¨è£…é… <code>StringRedisTemplate</code></li></ul></li><li><p>å®šåˆ¶åŒ–</p></li><li><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li><li>ç”±äºç»„ä»¶ä¸Šæœ‰<code>@ConditionalOnMissingBean</code>æ³¨è§£ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ç»„ä»¶ï¼Œè‡ªå·±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª <code>StringRedisTemplate</code></li></ul></li></ul><h1 id="4ã€æ ¸å¿ƒæŠ€èƒ½"><a href="#4ã€æ ¸å¿ƒæŠ€èƒ½" class="headerlink" title="4ã€æ ¸å¿ƒæŠ€èƒ½"></a>4ã€æ ¸å¿ƒæŠ€èƒ½</h1><h2 id="1-å¸¸ç”¨æ³¨è§£"><a href="#1-å¸¸ç”¨æ³¨è§£" class="headerlink" title="1. å¸¸ç”¨æ³¨è§£"></a>1. å¸¸ç”¨æ³¨è§£</h2><p>SpringBootæ‘’å¼ƒXMLé…ç½®æ–¹å¼ï¼Œæ”¹ä¸º<strong>å…¨æ³¨è§£é©±åŠ¨</strong></p><h3 id="1-ç»„ä»¶æ³¨å†Œ"><a href="#1-ç»„ä»¶æ³¨å†Œ" class="headerlink" title="1. ç»„ä»¶æ³¨å†Œ"></a>1. ç»„ä»¶æ³¨å†Œ</h3><p><strong>@Configuration</strong>ã€<strong>@SpringBootConfiguration</strong></p><p><strong>@Bean</strong>ã€<strong>@Scope</strong></p><p><strong>@Controllerã€ @Serviceã€@Repositoryã€@Component</strong></p><p><strong>@Import</strong></p><p>@ComponentScan</p><p>æ­¥éª¤ï¼š</p><p><strong>1ã€@Configuration ç¼–å†™ä¸€ä¸ªé…ç½®ç±»</strong></p><p><strong>2ã€åœ¨é…ç½®ç±»ä¸­ï¼Œè‡ªå®šä¹‰æ–¹æ³•ç»™å®¹å™¨ä¸­æ³¨å†Œç»„ä»¶ã€‚é…åˆ@Bean</strong></p><p><strong>3ã€æˆ–ä½¿ç”¨@Import å¯¼å…¥ç¬¬ä¸‰æ–¹çš„ç»„ä»¶</strong></p><h3 id="2-æ¡ä»¶æ³¨è§£"><a href="#2-æ¡ä»¶æ³¨è§£" class="headerlink" title="2. æ¡ä»¶æ³¨è§£"></a>2. æ¡ä»¶æ³¨è§£</h3><p>å¦‚æœæ³¨è§£æŒ‡å®šçš„<strong>æ¡ä»¶æˆç«‹</strong>ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</p><p><strong><em>@ConditionalOnXxx</em></strong></p><p><strong>@ConditionalOnClassï¼šå¦‚æœç±»è·¯å¾„ä¸­å­˜åœ¨è¿™ä¸ªç±»ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p><p><strong>@ConditionalOnMissingClassï¼šå¦‚æœç±»è·¯å¾„ä¸­ä¸å­˜åœ¨è¿™ä¸ªç±»ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p><p><strong>@ConditionalOnBeanï¼šå¦‚æœå®¹å™¨ä¸­å­˜åœ¨è¿™ä¸ªBeanï¼ˆç»„ä»¶ï¼‰ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p><p><strong>@ConditionalOnMissingBeanï¼šå¦‚æœå®¹å™¨ä¸­ä¸å­˜åœ¨è¿™ä¸ªBeanï¼ˆç»„ä»¶ï¼‰ï¼Œåˆ™è§¦å‘æŒ‡å®šè¡Œä¸º</strong></p><p>åœºæ™¯ï¼š</p><ul><li>å¦‚æœå­˜åœ¨<code>FastsqlException</code>è¿™ä¸ªç±»ï¼Œç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>Cat</code>ç»„ä»¶ï¼Œåcat01ï¼Œ</li><li>å¦åˆ™ï¼Œå°±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª<code>Dog</code>ç»„ä»¶ï¼Œådog01</li><li>å¦‚æœç³»ç»Ÿä¸­æœ‰<code>dog01</code>è¿™ä¸ªç»„ä»¶ï¼Œå°±ç»™å®¹å™¨ä¸­æ”¾ä¸€ä¸ª Userç»„ä»¶ï¼Œåzhangsan </li><li>å¦åˆ™ï¼Œå°±æ”¾ä¸€ä¸ªUserï¼Œåå«lisi</li></ul><p><strong>@ConditionalOnBeanï¼ˆvalue=ç»„ä»¶ç±»å‹ï¼Œname=ç»„ä»¶åå­—ï¼‰ï¼šåˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰è¿™ä¸ªç±»å‹çš„ç»„ä»¶ï¼Œå¹¶ä¸”åå­—æ˜¯æŒ‡å®šçš„å€¼</strong></p><p>@ConditionalOnRepositoryType (org.springframework.boot.autoconfigure.data)<br>@ConditionalOnDefaultWebSecurity (org.springframework.boot.autoconfigure.security)<br>@ConditionalOnSingleCandidate (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnWebApplication (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnWarDeployment (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnJndi (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnResource (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnExpression (org.springframework.boot.autoconfigure.condition)<br><strong>@ConditionalOnClass</strong> (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnEnabledResourceChain (org.springframework.boot.autoconfigure.web)<br><strong>@ConditionalOnMissingClass</strong> (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnNotWebApplication (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnProperty (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnCloudPlatform (org.springframework.boot.autoconfigure.condition)<br><strong>@ConditionalOnBean</strong> (org.springframework.boot.autoconfigure.condition)<br><strong>@ConditionalOnMissingBean</strong> (org.springframework.boot.autoconfigure.condition)<br>@ConditionalOnMissingFilterBean (org.springframework.boot.autoconfigure.web.servlet)<br>@Profile (org.springframework.context.annotation)<br>@ConditionalOnInitializedRestarter (org.springframework.boot.devtools.restart)<br>@ConditionalOnGraphQlSchema (org.springframework.boot.autoconfigure.graphql)<br>@ConditionalOnJava (org.springframework.boot.autoconfigure.condition)</p><h3 id="3-å±æ€§ç»‘å®š"><a href="#3-å±æ€§ç»‘å®š" class="headerlink" title="3. å±æ€§ç»‘å®š"></a>3. å±æ€§ç»‘å®š</h3><p><strong>@ConfigurationPropertiesï¼š å£°æ˜ç»„ä»¶çš„å±æ€§å’Œé…ç½®æ–‡ä»¶å“ªäº›å‰ç¼€å¼€å§‹é¡¹è¿›è¡Œç»‘å®š</strong></p><p><strong>@EnableConfigurationPropertiesï¼šå¿«é€Ÿæ³¨å†Œæ³¨è§£ï¼š</strong></p><ul><li><strong>åœºæ™¯ï¼š</strong>SpringBooté»˜è®¤åªæ‰«æè‡ªå·±ä¸»ç¨‹åºæ‰€åœ¨çš„åŒ…ã€‚å¦‚æœå¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œå³ä½¿ç»„ä»¶ä¸Šæ ‡æ³¨äº† @Componentã€@ConfigurationProperties æ³¨è§£ï¼Œä¹Ÿæ²¡ç”¨ã€‚å› ä¸ºç»„ä»¶éƒ½æ‰«æä¸è¿›æ¥ï¼Œæ­¤æ—¶ä½¿ç”¨è¿™ä¸ªæ³¨è§£å°±å¯ä»¥å¿«é€Ÿè¿›è¡Œå±æ€§ç»‘å®šå¹¶æŠŠç»„ä»¶æ³¨å†Œè¿›å®¹å™¨</li></ul><p>å°†å®¹å™¨ä¸­ä»»æ„<strong>ç»„ä»¶ï¼ˆBeanï¼‰çš„å±æ€§å€¼</strong>å’Œ<strong>é…ç½®æ–‡ä»¶</strong>çš„é…ç½®é¡¹çš„å€¼<strong>è¿›è¡Œç»‘å®š</strong></p><ul><li><strong>1ã€ç»™å®¹å™¨ä¸­æ³¨å†Œç»„ä»¶ï¼ˆ@Componentã€@Beanï¼‰</strong></li><li><strong>2ã€ä½¿ç”¨**</strong>@ConfigurationProperties å£°æ˜ç»„ä»¶å’Œé…ç½®æ–‡ä»¶çš„å“ªäº›é…ç½®é¡¹è¿›è¡Œç»‘å®š**</li></ul><p>æ›´å¤šæ³¨è§£å‚ç…§ï¼š<a href="https://www.bilibili.com/video/BV1gW411W7wy">Springæ³¨è§£é©±åŠ¨å¼€å‘</a>ã€1-26é›†ã€‘</p><h2 id="2-YAMLé…ç½®æ–‡ä»¶"><a href="#2-YAMLé…ç½®æ–‡ä»¶" class="headerlink" title="2. YAMLé…ç½®æ–‡ä»¶"></a>2. YAMLé…ç½®æ–‡ä»¶</h2><p><strong>ç—›ç‚¹</strong>ï¼šSpringBoot é›†ä¸­åŒ–ç®¡ç†é…ç½®ï¼Œ<code>application.properties</code></p><p><strong>é—®é¢˜</strong>ï¼šé…ç½®å¤šä»¥åéš¾é˜…è¯»å’Œä¿®æ”¹ï¼Œ<strong>å±‚çº§ç»“æ„è¾¨è¯†åº¦ä¸é«˜</strong></p><p>YAML æ˜¯ â€œYAML Ainâ€™t a Markup Languageâ€ï¼ˆYAML ä¸æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚åœ¨å¼€å‘çš„è¿™ç§è¯­è¨€æ—¶ï¼ŒYAML çš„æ„æ€å…¶å®æ˜¯ï¼šâ€Yet Another Markup Languageâ€ï¼ˆæ˜¯å¦ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚</p><ul><li>è®¾è®¡ç›®æ ‡ï¼Œå°±æ˜¯<strong>æ–¹ä¾¿äººç±»è¯»å†™</strong></li><li><strong>å±‚æ¬¡åˆ†æ˜</strong>ï¼Œæ›´é€‚åˆåšé…ç½®æ–‡ä»¶</li><li>ä½¿ç”¨<code>.yaml</code>æˆ– <code>.yml</code>ä½œä¸ºæ–‡ä»¶åç¼€</li></ul><h3 id="1-åŸºæœ¬è¯­æ³•"><a href="#1-åŸºæœ¬è¯­æ³•" class="headerlink" title="1. åŸºæœ¬è¯­æ³•"></a>1. åŸºæœ¬è¯­æ³•</h3><ul><li><strong>å¤§å°å†™æ•æ„Ÿ</strong></li><li>ä½¿ç”¨<strong>ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œk: vï¼Œä½¿ç”¨ç©ºæ ¼åˆ†å‰²k,v</strong></li><li>ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªå…è®¸<strong>ä½¿ç”¨ç©ºæ ¼</strong>ã€‚æ¢è¡Œ</li><li>ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦<strong>ç›¸åŒå±‚çº§</strong>çš„å…ƒç´ <strong>å·¦ä¾§å¯¹é½</strong>å³å¯</li><li><strong># è¡¨ç¤ºæ³¨é‡Š</strong>ï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚</li></ul><p>æ”¯æŒçš„å†™æ³•ï¼š</p><ul><li><strong>å¯¹è±¡</strong>ï¼š<strong>é”®å€¼å¯¹</strong>çš„é›†åˆï¼Œå¦‚ï¼šæ˜ å°„ï¼ˆmapï¼‰/ å“ˆå¸Œï¼ˆhashï¼‰ / å­—å…¸ï¼ˆdictionaryï¼‰</li><li><strong>æ•°ç»„</strong>ï¼šä¸€ç»„æŒ‰æ¬¡åºæ’åˆ—çš„å€¼ï¼Œå¦‚ï¼šåºåˆ—ï¼ˆsequenceï¼‰ / åˆ—è¡¨ï¼ˆlistï¼‰</li><li><strong>çº¯é‡</strong>ï¼šå•ä¸ªçš„ã€ä¸å¯å†åˆ†çš„å€¼ï¼Œå¦‚ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€boolã€æ—¥æœŸ</li></ul><h3 id="2-ç¤ºä¾‹"><a href="#2-ç¤ºä¾‹" class="headerlink" title="2. ç¤ºä¾‹"></a>2. ç¤ºä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;person&quot;)</span> <span class="comment">//å’Œé…ç½®æ–‡ä»¶personå‰ç¼€çš„æ‰€æœ‰é…ç½®è¿›è¡Œç»‘å®š</span></span><br><span class="line"><span class="meta">@Data</span> <span class="comment">//è‡ªåŠ¨ç”ŸæˆJavaBeanå±æ€§çš„getter/setter</span></span><br><span class="line"><span class="comment">//@NoArgsConstructor //è‡ªåŠ¨ç”Ÿæˆæ— å‚æ„é€ å™¨</span></span><br><span class="line"><span class="comment">//@AllArgsConstructor //è‡ªåŠ¨ç”Ÿæˆå…¨å‚æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthDay;</span><br><span class="line">    <span class="keyword">private</span> Boolean like;</span><br><span class="line">    <span class="keyword">private</span> Child child; <span class="comment">//åµŒå¥—å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Dog&gt; dogs; <span class="comment">//æ•°ç»„ï¼ˆé‡Œé¢æ˜¯å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,Cat&gt; cats; <span class="comment">//è¡¨ç¤ºMap</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Child</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthDay;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; text; <span class="comment">//æ•°ç»„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>propertiesè¡¨ç¤ºæ³•</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person.name</span>=<span class="string">å¼ ä¸‰</span></span><br><span class="line"><span class="attr">person.age</span>=<span class="string">18</span></span><br><span class="line"><span class="attr">person.birthDay</span>=<span class="string">2010/10/12 12:12:12</span></span><br><span class="line"><span class="attr">person.like</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">person.child.name</span>=<span class="string">æå››</span></span><br><span class="line"><span class="attr">person.child.age</span>=<span class="string">12</span></span><br><span class="line"><span class="attr">person.child.birthDay</span>=<span class="string">2018/10/12</span></span><br><span class="line"><span class="attr">person.child.text[0]</span>=<span class="string">abc</span></span><br><span class="line"><span class="attr">person.child.text[1]</span>=<span class="string">def</span></span><br><span class="line"><span class="attr">person.dogs[0].name</span>=<span class="string">å°é»‘</span></span><br><span class="line"><span class="attr">person.dogs[0].age</span>=<span class="string">3</span></span><br><span class="line"><span class="attr">person.dogs[1].name</span>=<span class="string">å°ç™½</span></span><br><span class="line"><span class="attr">person.dogs[1].age</span>=<span class="string">2</span></span><br><span class="line"><span class="attr">person.cats.c1.name</span>=<span class="string">å°è“</span></span><br><span class="line"><span class="attr">person.cats.c1.age</span>=<span class="string">3</span></span><br><span class="line"><span class="attr">person.cats.c2.name</span>=<span class="string">å°ç°</span></span><br><span class="line"><span class="attr">person.cats.c2.age</span>=<span class="string">2</span></span><br></pre></td></tr></table></figure><p>yamlè¡¨ç¤ºæ³•</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">å¼ ä¸‰</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">birthDay:</span> <span class="number">2010</span><span class="string">/10/10</span> <span class="number">12</span><span class="string">:12:12</span></span><br><span class="line">  <span class="attr">like:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">child:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">æå››</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">birthDay:</span> <span class="number">2018</span><span class="string">/10/10</span></span><br><span class="line">    <span class="attr">text:</span> [<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>]</span><br><span class="line">  <span class="attr">dogs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å°é»‘</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">3</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å°ç™½</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">cats:</span></span><br><span class="line">    <span class="attr">c1:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">å°è“</span></span><br><span class="line">      <span class="attr">age:</span> <span class="number">3</span></span><br><span class="line">    <span class="attr">c2:</span> &#123;<span class="attr">name:</span> <span class="string">å°ç»¿</span>,<span class="attr">age:</span> <span class="number">2</span>&#125; <span class="comment">#å¯¹è±¡ä¹Ÿå¯ç”¨&#123;&#125;è¡¨ç¤º</span></span><br></pre></td></tr></table></figure><h3 id="3-ç»†èŠ‚"><a href="#3-ç»†èŠ‚" class="headerlink" title="3. ç»†èŠ‚"></a>3. ç»†èŠ‚</h3><ul><li>birthDay æ¨èå†™ä¸º birth-day</li><li><p><strong>æ–‡æœ¬</strong>ï¼š</p></li><li><ul><li><strong>å•å¼•å·</strong>ä¸ä¼šè½¬ä¹‰ã€\n åˆ™ä¸ºæ™®é€šå­—ç¬¦ä¸²æ˜¾ç¤ºã€‘</li><li><strong>åŒå¼•å·</strong>ä¼šè½¬ä¹‰ã€\nä¼šæ˜¾ç¤ºä¸º<strong>æ¢è¡Œç¬¦</strong>ã€‘</li></ul></li><li><p><strong>å¤§æ–‡æœ¬</strong></p></li><li><ul><li><code>|</code>å¼€å¤´ï¼Œå¤§æ–‡æœ¬å†™åœ¨ä¸‹å±‚ï¼Œ<strong>ä¿ç•™æ–‡æœ¬æ ¼å¼</strong>ï¼Œ<strong>æ¢è¡Œç¬¦æ­£ç¡®æ˜¾ç¤º</strong></li><li><code>&gt;</code>å¼€å¤´ï¼Œå¤§æ–‡æœ¬å†™åœ¨ä¸‹å±‚ï¼ŒæŠ˜å æ¢è¡Œç¬¦</li></ul></li><li><p><strong>å¤šæ–‡æ¡£åˆå¹¶</strong></p></li><li><ul><li>ä½¿ç”¨<code>---</code>å¯ä»¥æŠŠå¤šä¸ªyamlæ–‡æ¡£åˆå¹¶åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£åŒºä¾ç„¶è®¤ä¸ºå†…å®¹ç‹¬ç«‹</li></ul></li></ul><h3 id="4-å°æŠ€å·§ï¼šlombok"><a href="#4-å°æŠ€å·§ï¼šlombok" class="headerlink" title="4. å°æŠ€å·§ï¼šlombok"></a>4. å°æŠ€å·§ï¼šlombok</h3><p>ç®€åŒ–JavaBean å¼€å‘ã€‚è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getter/setterã€è‡ªåŠ¨ç”ŸæˆBuilderæ¨¡å¼ç­‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;compile&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>@Data</code>ç­‰æ³¨è§£</p><h2 id="3-æ—¥å¿—é…ç½®"><a href="#3-æ—¥å¿—é…ç½®" class="headerlink" title="3. æ—¥å¿—é…ç½®"></a>3. æ—¥å¿—é…ç½®</h2><p>è§„èŒƒï¼šé¡¹ç›®å¼€å‘ä¸è¦ç¼–å†™<code>System.out.println()</code>ï¼Œåº”è¯¥ç”¨<strong>æ—¥å¿—</strong>è®°å½•ä¿¡æ¯</p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1613913/1680232037132-d2fa8085-3847-46f2-ac62-14a6188492aa.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_29%2Ctext_5bCa56GF6LC3IGF0Z3VpZ3UuY29t%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10" alt="img"></p><p><strong>æ„Ÿå…´è¶£æ—¥å¿—æ¡†æ¶å…³ç³»ä¸èµ·æºå¯å‚è€ƒ</strong>ï¼š<a href="https://www.bilibili.com/video/BV1gW411W76m">https://www.bilibili.com/video/BV1gW411W76m</a> è§†é¢‘ 21~27é›†</p><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.  ç®€ä»‹"></a>1.  ç®€ä»‹</h3><ol><li><p>Springä½¿ç”¨commons-loggingä½œä¸ºå†…éƒ¨æ—¥å¿—ï¼Œä½†åº•å±‚æ—¥å¿—å®ç°æ˜¯å¼€æ”¾çš„ã€‚å¯å¯¹æ¥å…¶ä»–æ—¥å¿—æ¡†æ¶ã€‚</p></li><li><ol><li>spring5åŠä»¥å commons-loggingè¢«springç›´æ¥è‡ªå·±å†™äº†ã€‚</li></ol></li><li><p>æ”¯æŒ julï¼Œlog4j2,logbackã€‚SpringBoot æä¾›äº†é»˜è®¤çš„æ§åˆ¶å°è¾“å‡ºé…ç½®ï¼Œä¹Ÿå¯ä»¥é…ç½®è¾“å‡ºä¸ºæ–‡ä»¶ã€‚</p></li><li>logbackæ˜¯é»˜è®¤ä½¿ç”¨çš„ã€‚</li><li>è™½ç„¶<strong>æ—¥å¿—æ¡†æ¶å¾ˆå¤š</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç”¨æ‹…å¿ƒï¼Œä½¿ç”¨ SpringBoot çš„<strong>é»˜è®¤é…ç½®å°±èƒ½å·¥ä½œçš„å¾ˆå¥½</strong>ã€‚</li></ol><p><strong>SpringBootæ€ä¹ˆæŠŠæ—¥å¿—é»˜è®¤é…ç½®å¥½çš„</strong></p><p>1ã€æ¯ä¸ª<code>starter</code>åœºæ™¯ï¼Œéƒ½ä¼šå¯¼å…¥ä¸€ä¸ªæ ¸å¿ƒåœºæ™¯<code>spring-boot-starter</code></p><p>2ã€æ ¸å¿ƒåœºæ™¯å¼•å…¥äº†æ—¥å¿—çš„æ‰€ç”¨åŠŸèƒ½<code>spring-boot-starter-logging</code></p><p>3ã€é»˜è®¤ä½¿ç”¨äº†<code>logback + slf4j</code> ç»„åˆä½œä¸ºé»˜è®¤åº•å±‚æ—¥å¿—</p><p>4ã€<code>æ—¥å¿—æ˜¯ç³»ç»Ÿä¸€å¯åŠ¨å°±è¦ç”¨</code>ï¼Œ<code>xxxAutoConfiguration</code>æ˜¯ç³»ç»Ÿå¯åŠ¨å¥½äº†ä»¥åæ”¾å¥½çš„ç»„ä»¶ï¼Œåæ¥ç”¨çš„ã€‚</p><p>5ã€æ—¥å¿—æ˜¯åˆ©ç”¨<strong>ç›‘å¬å™¨æœºåˆ¶</strong>é…ç½®å¥½çš„ã€‚<code>ApplicationListener</code>ã€‚</p><p>6ã€æ—¥å¿—æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å®ç°ã€‚ä»¥<code>logging</code>å¼€å§‹çš„æ‰€æœ‰é…ç½®ã€‚</p><h3 id="2-æ—¥å¿—æ ¼å¼"><a href="#2-æ—¥å¿—æ ¼å¼" class="headerlink" title="2. æ—¥å¿—æ ¼å¼"></a>2. æ—¥å¿—æ ¼å¼</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2023-03-31T13:56:17.511+08:00  INFO 4944 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2023-03-31T13:56:17.511+08:00  INFO 4944 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]</span><br></pre></td></tr></table></figure><p>é»˜è®¤è¾“å‡ºæ ¼å¼ï¼š</p><ul><li>æ—¶é—´å’Œæ—¥æœŸï¼šæ¯«ç§’çº§ç²¾åº¦</li><li>æ—¥å¿—çº§åˆ«ï¼šERROR, WARN, INFO, DEBUG, or TRACE.</li><li>è¿›ç¨‹ ID</li><li>â€”-ï¼š æ¶ˆæ¯åˆ†å‰²ç¬¦</li><li>çº¿ç¨‹åï¼š ä½¿ç”¨[]åŒ…å«</li><li>Logger åï¼š é€šå¸¸æ˜¯äº§ç”Ÿæ—¥å¿—çš„<strong>ç±»å</strong></li><li>æ¶ˆæ¯ï¼š æ—¥å¿—è®°å½•çš„å†…å®¹</li></ul><p>æ³¨æ„ï¼š logback æ²¡æœ‰FATALçº§åˆ«ï¼Œå¯¹åº”çš„æ˜¯ERROR</p><p>é»˜è®¤å€¼ï¼šå‚ç…§ï¼š<code>spring-boot</code>åŒ…<code>additional-spring-configuration-metadata.json</code>æ–‡ä»¶</p><p>é»˜è®¤è¾“å‡ºæ ¼å¼å€¼ï¼š<code>%clr(%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&#125;&#125;)&#123;faint&#125; %clr($&#123;LOG_LEVEL_PATTERN:-%5p&#125;) %clr($&#123;PID:- &#125;)&#123;magenta&#125; %clr(---)&#123;faint&#125; %clr([%15.15t])&#123;faint&#125; %clr(%-40.40logger&#123;39&#125;)&#123;cyan&#125; %clr(:)&#123;faint&#125; %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;</code></p><p>å¯ä¿®æ”¹ä¸ºï¼š<code>&#39;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level [%thread] %logger&#123;15&#125; ===&gt; %msg%n&#39;</code></p><h3 id="3-è®°å½•æ—¥å¿—"><a href="#3-è®°å½•æ—¥å¿—" class="headerlink" title="3. è®°å½•æ—¥å¿—"></a>3. è®°å½•æ—¥å¿—</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(getClass());</span><br><span class="line"></span><br><span class="line">æˆ–è€…ä½¿ç”¨Lombokçš„<span class="meta">@Slf4j</span>æ³¨è§£</span><br></pre></td></tr></table></figure><h3 id="4-æ—¥å¿—çº§åˆ«"><a href="#4-æ—¥å¿—çº§åˆ«" class="headerlink" title="4. æ—¥å¿—çº§åˆ«"></a>4. æ—¥å¿—çº§åˆ«</h3><ul><li><p>ç”±ä½åˆ°é«˜ï¼š<code>ALL,TRACE, DEBUG, INFO, WARN, ERROR,FATAL,OFF</code>ï¼›</p></li><li><ul><li><strong>åªä¼šæ‰“å°æŒ‡å®šçº§åˆ«åŠä»¥ä¸Šçº§åˆ«çš„æ—¥å¿—</strong></li><li>ALLï¼šæ‰“å°æ‰€æœ‰æ—¥å¿—</li><li>TRACEï¼šè¿½è¸ªæ¡†æ¶è¯¦ç»†æµç¨‹æ—¥å¿—ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨</li><li>DEBUGï¼šå¼€å‘è°ƒè¯•ç»†èŠ‚æ—¥å¿—</li><li>INFOï¼šå…³é”®ã€æ„Ÿå…´è¶£ä¿¡æ¯æ—¥å¿—</li><li>WARNï¼šè­¦å‘Šä½†ä¸æ˜¯é”™è¯¯çš„ä¿¡æ¯æ—¥å¿—ï¼Œæ¯”å¦‚ï¼šç‰ˆæœ¬è¿‡æ—¶</li><li>ERRORï¼šä¸šåŠ¡é”™è¯¯æ—¥å¿—ï¼Œæ¯”å¦‚å‡ºç°å„ç§å¼‚å¸¸</li><li>FATALï¼šè‡´å‘½é”™è¯¯æ—¥å¿—ï¼Œæ¯”å¦‚jvmç³»ç»Ÿå´©æºƒ</li><li>OFFï¼šå…³é—­æ‰€æœ‰æ—¥å¿—è®°å½•</li></ul></li><li><p>ä¸æŒ‡å®šçº§åˆ«çš„æ‰€æœ‰ç±»ï¼Œéƒ½ä½¿ç”¨rootæŒ‡å®šçš„çº§åˆ«ä½œä¸ºé»˜è®¤çº§åˆ«</p></li><li>SpringBootæ—¥å¿—<strong>é»˜è®¤çº§åˆ«æ˜¯</strong> <strong>INFO</strong></li></ul><ol><li>åœ¨application.properties/yamlä¸­é…ç½®logging.level.<logger-name>=<level>æŒ‡å®šæ—¥å¿—çº§åˆ«</li><li>levelå¯å–å€¼èŒƒå›´ï¼š<code>TRACE, DEBUG, INFO, WARN, ERROR, FATAL, or OFF</code>ï¼Œå®šä¹‰åœ¨ <code>LogLevel</code>ç±»ä¸­</li><li>root çš„logger-nameå«rootï¼Œå¯ä»¥é…ç½®logging.level.root=warnï¼Œä»£è¡¨æ‰€æœ‰æœªæŒ‡å®šæ—¥å¿—çº§åˆ«éƒ½ä½¿ç”¨ root çš„ warn çº§åˆ«</li></ol><h3 id="5-æ—¥å¿—åˆ†ç»„"><a href="#5-æ—¥å¿—åˆ†ç»„" class="headerlink" title="5. æ—¥å¿—åˆ†ç»„"></a>5. æ—¥å¿—åˆ†ç»„</h3><p>æ¯”è¾ƒæœ‰ç”¨çš„æŠ€å·§æ˜¯ï¼š</p><p>å°†ç›¸å…³çš„loggeråˆ†ç»„åœ¨ä¸€èµ·ï¼Œç»Ÿä¸€é…ç½®ã€‚SpringBoot ä¹Ÿæ”¯æŒã€‚æ¯”å¦‚ï¼šTomcat ç›¸å…³çš„æ—¥å¿—ç»Ÿä¸€è®¾ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logging.group.tomcat=org.apache.catalina,org.apache.coyote,org.apache.tomcat</span><br><span class="line">logging.level.tomcat=trace</span><br></pre></td></tr></table></figure><p>SpringBoot é¢„å®šä¹‰ä¸¤ä¸ªç»„</p><div class="table-container"><table><thead><tr><th>Name</th><th>Loggers</th></tr></thead><tbody><tr><td>web</td><td>org.springframework.core.codec, org.springframework.http, org.springframework.web, org.springframework.boot.actuate.endpoint.web, org.springframework.boot.web.servlet.ServletContextInitializerBeans</td></tr><tr><td>sql</td><td>org.springframework.jdbc.core, org.hibernate.SQL, org.jooq.tools.LoggerListener</td></tr></tbody></table></div><h3 id="6-æ–‡ä»¶è¾“å‡º"><a href="#6-æ–‡ä»¶è¾“å‡º" class="headerlink" title="6. æ–‡ä»¶è¾“å‡º"></a>6. æ–‡ä»¶è¾“å‡º</h3><p>SpringBoot é»˜è®¤åªæŠŠæ—¥å¿—å†™åœ¨æ§åˆ¶å°ï¼Œå¦‚æœæƒ³é¢å¤–è®°å½•åˆ°æ–‡ä»¶ï¼Œå¯ä»¥åœ¨application.propertiesä¸­æ·»åŠ logging.file.name or logging.file.pathé…ç½®é¡¹ã€‚</p><div class="table-container"><table><thead><tr><th>logging.file.name</th><th>logging.file.path</th><th>ç¤ºä¾‹</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>æœªæŒ‡å®š</td><td>æœªæŒ‡å®š</td><td></td><td>ä»…æ§åˆ¶å°è¾“å‡º</td></tr><tr><td><strong>æŒ‡å®š</strong></td><td>æœªæŒ‡å®š</td><td>my.log</td><td>å†™å…¥æŒ‡å®šæ–‡ä»¶ã€‚å¯ä»¥åŠ è·¯å¾„</td></tr><tr><td>æœªæŒ‡å®š</td><td><strong>æŒ‡å®š</strong></td><td>/var/log</td><td>å†™å…¥æŒ‡å®šç›®å½•ï¼Œæ–‡ä»¶åä¸ºspring.log</td></tr><tr><td><strong>æŒ‡å®š</strong></td><td><strong>æŒ‡å®š</strong></td><td></td><td>ä»¥logging.file.nameä¸ºå‡†</td></tr></tbody></table></div><h3 id="7-æ–‡ä»¶å½’æ¡£ä¸æ»šåŠ¨åˆ‡å‰²"><a href="#7-æ–‡ä»¶å½’æ¡£ä¸æ»šåŠ¨åˆ‡å‰²" class="headerlink" title="7. æ–‡ä»¶å½’æ¡£ä¸æ»šåŠ¨åˆ‡å‰²"></a>7. æ–‡ä»¶å½’æ¡£ä¸æ»šåŠ¨åˆ‡å‰²</h3><p>å½’æ¡£ï¼šæ¯å¤©çš„æ—¥å¿—å•ç‹¬å­˜åˆ°ä¸€ä¸ªæ–‡æ¡£ä¸­ã€‚</p><p>åˆ‡å‰²ï¼šæ¯ä¸ªæ–‡ä»¶10MBï¼Œè¶…è¿‡å¤§å°åˆ‡å‰²æˆå¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚</p><ol><li>æ¯å¤©çš„æ—¥å¿—åº”è¯¥ç‹¬ç«‹åˆ†å‰²å‡ºæ¥å­˜æ¡£ã€‚å¦‚æœä½¿ç”¨logbackï¼ˆSpringBoot é»˜è®¤æ•´åˆï¼‰ï¼Œå¯ä»¥é€šè¿‡application.properties/yamlæ–‡ä»¶æŒ‡å®šæ—¥å¿—æ»šåŠ¨è§„åˆ™ã€‚</li><li>å¦‚æœæ˜¯å…¶ä»–æ—¥å¿—ç³»ç»Ÿï¼Œéœ€è¦è‡ªè¡Œé…ç½®ï¼ˆæ·»åŠ log4j2.xmlæˆ–log4j2-spring.xmlï¼‰</li><li>æ”¯æŒçš„æ»šåŠ¨è§„åˆ™è®¾ç½®å¦‚ä¸‹</li></ol><div class="table-container"><table><thead><tr><th>é…ç½®é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>logging.logback.rollingpolicy.file-name-pattern</td><td>æ—¥å¿—å­˜æ¡£çš„æ–‡ä»¶åæ ¼å¼ï¼ˆé»˜è®¤å€¼ï¼š${LOG_FILE}.%d{yyyy-MM-dd}.%i.gzï¼‰</td></tr><tr><td>logging.logback.rollingpolicy.clean-history-on-start</td><td>åº”ç”¨å¯åŠ¨æ—¶æ˜¯å¦æ¸…é™¤ä»¥å‰å­˜æ¡£ï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</td></tr><tr><td>logging.logback.rollingpolicy.max-file-size</td><td>å­˜æ¡£å‰ï¼Œæ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ï¼ˆé»˜è®¤å€¼ï¼š10MBï¼‰</td></tr><tr><td>logging.logback.rollingpolicy.total-size-cap</td><td>æ—¥å¿—æ–‡ä»¶è¢«åˆ é™¤ä¹‹å‰ï¼Œå¯ä»¥å®¹çº³çš„æœ€å¤§å¤§å°ï¼ˆé»˜è®¤å€¼ï¼š0Bï¼‰ã€‚è®¾ç½®1GBåˆ™ç£ç›˜å­˜å‚¨è¶…è¿‡ 1GB æ—¥å¿—åå°±ä¼šåˆ é™¤æ—§æ—¥å¿—æ–‡ä»¶</td></tr><tr><td>logging.logback.rollingpolicy.max-history</td><td>æ—¥å¿—æ–‡ä»¶ä¿å­˜çš„æœ€å¤§å¤©æ•°(é»˜è®¤å€¼ï¼š7).</td></tr></tbody></table></div><h3 id="8-è‡ªå®šä¹‰é…ç½®"><a href="#8-è‡ªå®šä¹‰é…ç½®" class="headerlink" title="8. è‡ªå®šä¹‰é…ç½®"></a>8. è‡ªå®šä¹‰é…ç½®</h3><p>é€šå¸¸æˆ‘ä»¬é…ç½® application.properties å°±å¤Ÿäº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚æ¯”å¦‚ï¼š</p><div class="table-container"><table><thead><tr><th>æ—¥å¿—ç³»ç»Ÿ</th><th>è‡ªå®šä¹‰</th></tr></thead><tbody><tr><td>Logback</td><td>logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy</td></tr><tr><td>Log4j2</td><td>log4j2-spring.xml or log4j2.xml</td></tr><tr><td>JDK (Java Util Logging)</td><td>logging.properties</td></tr></tbody></table></div><p>å¦‚æœå¯èƒ½ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨åœ¨æ—¥å¿—é…ç½®ä¸­ä½¿ç”¨<code>-spring</code> å˜é‡ï¼ˆä¾‹å¦‚ï¼Œ<code>logback-spring.xml</code> è€Œä¸æ˜¯ <code>logback.xml</code>ï¼‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨æ ‡å‡†é…ç½®æ–‡ä»¶ï¼Œspring æ— æ³•å®Œå…¨æ§åˆ¶æ—¥å¿—åˆå§‹åŒ–ã€‚</p><p>æœ€ä½³å®æˆ˜ï¼šè‡ªå·±è¦å†™é…ç½®ï¼Œé…ç½®æ–‡ä»¶ååŠ ä¸Š <code>xx-spring.xml</code></p><h3 id="9-åˆ‡æ¢æ—¥å¿—ç»„åˆ"><a href="#9-åˆ‡æ¢æ—¥å¿—ç»„åˆ" class="headerlink" title="9. åˆ‡æ¢æ—¥å¿—ç»„åˆ"></a>9. åˆ‡æ¢æ—¥å¿—ç»„åˆ</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-log4j2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>log4j2æ”¯æŒyamlå’Œjsonæ ¼å¼çš„é…ç½®æ–‡ä»¶</p><div class="table-container"><table><thead><tr><th>æ ¼å¼</th><th>ä¾èµ–</th><th>æ–‡ä»¶å</th></tr></thead><tbody><tr><td>YAML</td><td>com.fasterxml.jackson.core:jackson-databind + com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</td><td>log4j2.yaml + log4j2.yml</td></tr><tr><td>JSON</td><td>com.fasterxml.jackson.core:jackson-databind</td><td>log4j2.json + log4j2.jsn</td></tr></tbody></table></div><h3 id="10-æœ€ä½³å®æˆ˜"><a href="#10-æœ€ä½³å®æˆ˜" class="headerlink" title="10. æœ€ä½³å®æˆ˜"></a>10. æœ€ä½³å®æˆ˜</h3><ol><li>å¯¼å…¥ä»»ä½•ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œå…ˆæ’é™¤å®ƒçš„æ—¥å¿—åŒ…ï¼Œå› ä¸ºBootåº•å±‚æ§åˆ¶å¥½äº†æ—¥å¿—</li><li>ä¿®æ”¹ <code>application.properties</code> é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥è°ƒæ•´æ—¥å¿—çš„æ‰€æœ‰è¡Œä¸ºã€‚å¦‚æœä¸å¤Ÿï¼Œå¯ä»¥ç¼–å†™æ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®æ–‡ä»¶æ”¾åœ¨ç±»è·¯å¾„ä¸‹å°±è¡Œï¼Œæ¯”å¦‚<code>logback-spring.xml</code>ï¼Œ<code>log4j2-spring.xml</code></li><li>å¦‚éœ€å¯¹æ¥<strong>ä¸“ä¸šæ—¥å¿—ç³»ç»Ÿ</strong>ï¼Œä¹Ÿåªéœ€è¦æŠŠ logback è®°å½•çš„<strong>æ—¥å¿—</strong>çŒå€’ <strong>kafka</strong>ä¹‹ç±»çš„ä¸­é—´ä»¶ï¼Œè¿™å’ŒSpringBootæ²¡å…³ç³»ï¼Œéƒ½æ˜¯æ—¥å¿—æ¡†æ¶è‡ªå·±çš„é…ç½®ï¼Œ<strong>ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯</strong></li><li><strong>ä¸šåŠ¡ä¸­ä½¿ç”¨slf4j-apiè®°å½•æ—¥å¿—ã€‚ä¸è¦å† sout äº†</strong></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot3 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>ç…§ç‰‡</title>
      <link href="/Gallery/index.html"/>
      <url>/Gallery/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äº</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- GitCalendarå®¹å™¨ --><div id="gitZone"></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç•™è¨€æ¿</title>
      <link href="/comments/index.html"/>
      <url>/comments/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†ç±»</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>:root {  --trans-light: rgba(255, 255, 255, 0.8);  --trans-dark: rgba(25, 25, 25, 0.8);  --border-style: 1px solid rgb(169, 169, 169);  --backdrop-filter: blur(5px) saturate(150%);}/* é¡µè„šä¸å¤´å›¾é€æ˜ */#footer {    background: transparent !important;  }  #page-header {    background: transparent !important;  }    /* ç™½å¤©æ¨¡å¼é®ç½©é€æ˜ */  #footer::before {    background: transparent !important;  }  #page-header::before {    background: transparent !important;  }    /* å¤œé—´æ¨¡å¼é®ç½©é€æ˜ */  [data-theme="dark"] #footer::before {    background: transparent !important;  }  [data-theme="dark"] #page-header::before {    background: transparent !important;  }  /* ç¿»é¡µæŒ‰é’®å±…ä¸­ */#pagination {  width: 100%;  margin: auto;}/* ä¸€çº§èœå•å±…ä¸­ */#nav .menus_items {  position: absolute !important;  width: fit-content !important;  left: 50% !important;  transform: translateX(-50%) !important;}/* å­èœå•æ¨ªå‘å±•ç¤º */#nav .menus_items .menus_item:hover .menus_item_child {  display: flex !important;}/* è¿™é‡Œçš„2æ˜¯ä»£è¡¨å¯¼èˆªæ çš„ç¬¬2ä¸ªå…ƒç´ ï¼Œå³æœ‰å­èœå•çš„å…ƒç´ ï¼Œå¯ä»¥æŒ‰è‡ªå·±éœ€æ±‚ä¿®æ”¹ */.menus_items .menus_item:nth-child(5) .menus_item_child {  left: -70px;}/* éœ“è™¹ç¯ç»„ä»¶ *//* æ—¥é—´æ¨¡å¼ä¸ç”Ÿæ•ˆ */[data-theme="light"] #site-name,[data-theme="light"] #site-title,[data-theme="light"] #site-subtitle,[data-theme="light"] #post-info {  animation: none;}/* å¤œé—´æ¨¡å¼ç”Ÿæ•ˆ */[data-theme="dark"] #site-name,[data-theme="dark"] #site-title {  animation: light_15px 10s linear infinite;}[data-theme="dark"] #site-subtitle {  animation: light_10px 10s linear infinite;}[data-theme="dark"] #post-info {  animation: light_5px 10s linear infinite;}/* å…³é”®å¸§æè¿° */@keyframes light_15px {  0% {    text-shadow: #5636ed 0 0 15px;  }  12.5% {    text-shadow: #11ee5e 0 0 15px;  }  25% {    text-shadow: #f14747 0 0 15px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 15px;  }  50% {    text-shadow: #b347f1 0 0 15px;  }  62.5% {    text-shadow: #002afa 0 0 15px;  }  75% {    text-shadow: #ed709b 0 0 15px;  }  87.5% {    text-shadow: #39c5bb 0 0 15px;  }  100% {    text-shadow: #5636ed 0 0 15px;  }}@keyframes light_10px {  0% {    text-shadow: #5636ed 0 0 10px;  }  12.5% {    text-shadow: #11ee5e 0 0 10px;  }  25% {    text-shadow: #f14747 0 0 10px;  }  37.5% {    text-shadow: #f1a247 0 0 10px;  }  50% {    text-shadow: #f1ee47 0 0 10px;  }  50% {    text-shadow: #b347f1 0 0 10px;  }  62.5% {    text-shadow: #002afa 0 0 10px;  }  75% {    text-shadow: #ed709b 0 0 10px;  }  87.5% {    text-shadow: #39c5bb 0 0 10px;  }  100% {    text-shadow: #5636ed 0 0 10px;  }}@keyframes light_5px {  0% {    text-shadow: #5636ed 0 0 5px;  }  12.5% {    text-shadow: #11ee5e 0 0 5px;  }  25% {    text-shadow: #f14747 0 0 5px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 5px;  }  50% {    text-shadow: #b347f1 0 0 5px;  }  62.5% {    text-shadow: #002afa 0 0 5px;  }  75% {    text-shadow: #ed709b 0 0 5px;  }  87.5% {    text-shadow: #39c5bb 0 0 5px;  }  100% {    text-shadow: #5636ed 0 0 5px;  }}/* è‡ªå®šä¹‰æ¸å˜ä¸ªäººä¿¡æ¯å¡ç‰‡ */#aside-content > .card-widget.card-info {  background: linear-gradient(    -45deg,    #e8d8b9,    #eccec5,    #a3e9eb,    #bdbdf0,    #eec1ea  );  box-shadow: 0 0 5px rgb(66, 68, 68);  position: relative;  background-size: 400% 400%;  -webkit-animation: Gradient 10s ease infinite;  -moz-animation: Gradient 10s ease infinite;  animation: Gradient 10s ease infinite !important;}@-webkit-keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}@-moz-keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}@keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}/* é»‘å¤œæ¨¡å¼é€‚é… */[data-theme="dark"] #aside-content > .card-widget.card-info {  background: #191919ee;}/* ä¸ªäººä¿¡æ¯Follow meæŒ‰é’® */#aside-content > .card-widget.card-info > #card-info-btn {  background-color: #3eb8be;  border-radius: 8px;}/* é¡µé¢æ ·å¼è°ƒèŠ‚ *//* é¦–é¡µæ–‡ç« å¡ç‰‡ */#recent-posts > .recent-post-item {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 25px;  border: var(--border-style);}/* é¦–é¡µä¾§æ å¡ç‰‡ */#aside-content .card-widget {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 18px;  border: var(--border-style);}/* æ–‡ç« é¡µã€å½’æ¡£é¡µã€æ™®é€šé¡µé¢ */div#post,div#page,div#archive {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border: var(--border-style);  border-radius: 20px;}/* å¯¼èˆªæ  */#page-header.nav-fixed #nav {  background: rgba(255, 255, 255, 0.75);  backdrop-filter: var(--backdrop-filter);}[data-theme="dark"] #page-header.nav-fixed #nav {  background: rgba(0, 0, 0, 0.7) !important;}/* å¤œé—´æ¨¡å¼é®ç½© */[data-theme="dark"] #recent-posts > .recent-post-item,[data-theme="dark"] #aside-content .card-widget,[data-theme="dark"] div#post,[data-theme="dark"] div#archive,[data-theme="dark"] div#page {  background: var(--trans-dark);}/* å¤œé—´æ¨¡å¼é¡µè„šé¡µå¤´é®ç½©é€æ˜ */[data-theme="dark"] #footer::before {  background: transparent !important;}[data-theme="dark"] #page-header::before {  background: transparent !important;}/* é˜…è¯»æ¨¡å¼ */.read-mode #aside-content .card-widget {  background: rgba(158, 204, 171, 0.5) !important;}.read-mode div#post {  background: rgba(158, 204, 171, 0.5) !important;}/* å¤œé—´æ¨¡å¼ä¸‹çš„é˜…è¯»æ¨¡å¼ */[data-theme="dark"] .read-mode #aside-content .card-widget {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}[data-theme="dark"] .read-mode div#post {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}/* è‡ªå®šä¹‰å›¾æ ‡æ ·å¼ */svg.icon {  width: 1.28em;  height: 1.28em;  vertical-align: -0.15em;  fill: currentColor;  overflow: hidden;}/* è‡ªå®šä¹‰ç¤¾äº¤å¡æ ·å¼ */svg.social_icon {  width: 1.20em;  height: 1.20em;  vertical-align: -0.15em;  fill: currentColor;  overflow: hidden;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/universe.js"/>
      <url>/js/universe.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>function dark() {window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n,e,i,h,t=.05,s=document.getElementById("universe"),o=!0,a="180,184,240",r="226,225,142",d="226,225,224",c=[];function f(){n=window.innerWidth,e=window.innerHeight,i=.216*n,s.setAttribute("width",n),s.setAttribute("height",e)}function u(){h.clearRect(0,0,n,e);for(var t=c.length,i=0;i<t;i++){var s=c[i];s.move(),s.fadeIn(),s.fadeOut(),s.draw()}}function y(){this.reset=function(){this.giant=m(3),this.comet=!this.giant&&!o&&m(10),this.x=l(0,n-10),this.y=l(0,e),this.r=l(1.1,2.6),this.dx=l(t,6*t)+(this.comet+1-1)*t*l(50,120)+2*t,this.dy=-l(t,6*t)-(this.comet+1-1)*t*l(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=l(.2,1-.4*(this.comet+1-1)),this.do=l(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,(this.x>n||this.y<0)&&(this.fadingOut=!1,this.reset()))},this.draw=function(){if(h.beginPath(),this.giant)h.fillStyle="rgba("+a+","+this.opacity+")",h.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){h.fillStyle="rgba("+d+","+this.opacity+")",h.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)h.fillStyle="rgba("+d+","+(this.opacity-this.opacity/20*t)+")",h.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),h.fill()}else h.fillStyle="rgba("+r+","+this.opacity+")",h.rect(this.x,this.y,this.r,this.r);h.closePath(),h.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>n-n/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){o=!1},50)}function m(t){return Math.floor(1e3*Math.random())+1<10*t}function l(t,i){return Math.random()*(i-t)+t}f(),window.addEventListener("resize",f,!1),function(){h=s.getContext("2d");for(var t=0;t<i;t++)c[t]=new y,c[t].reset();u()}(),function t(){document.getElementsByTagName('html')[0].getAttribute('data-theme')=='dark'&&u(),window.requestAnimationFrame(t)}()};dark()]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/universe.css"/>
      <url>/css/universe.css</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>/* èƒŒæ™¯å®‡å®™æ˜Ÿå…‰  */#universe{    display: block;    position: fixed;    margin: 0;    padding: 0;    border: 0;    outline: 0;    left: 0;    top: 0;    width: 100%;    height: 100%;    pointer-events: none;    /* è¿™ä¸ªæ˜¯è°ƒç½®é¡¶çš„ä¼˜å…ˆçº§çš„ï¼Œ-1åœ¨æ–‡ç« é¡µä¸‹é¢ï¼ŒèƒŒæ™¯ä¸Šé¢ï¼Œä¸ªäººæ¨èè¿™ç§ */    z-index: -1;  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å‹é“¾</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µå½±</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³ä¹</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
  
</search>
